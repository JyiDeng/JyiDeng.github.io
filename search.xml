<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ğŸ§¹ QQ Summary Geniusï¼š QQèŠå¤©æ–‡å­—è®°å½•AIæ€»ç»“åŠ©æ‰‹</title>
      <link href="/2025/03/18/QQ%20Summary%20Genius%20QQ%E8%81%8A%E5%A4%A9%E6%96%87%E5%AD%97%E8%AE%B0%E5%BD%95AI%E6%80%BB%E7%BB%93%E5%8A%A9%E6%89%8B/"/>
      <url>/2025/03/18/QQ%20Summary%20Genius%20QQ%E8%81%8A%E5%A4%A9%E6%96%87%E5%AD%97%E8%AE%B0%E5%BD%95AI%E6%80%BB%E7%BB%93%E5%8A%A9%E6%89%8B/</url>
      
        <content type="html"><![CDATA[<p><a href="https://github.com/JyiDeng/QQ-Summary-Genius">å†™äº†ä¸€ä¸ªæ–°çš„ QQ èŠå¤©è®°å½•AIæ€»ç»“åŠ©æ‰‹ï¼æ¬¢è¿æ¥ github ä½¿ç”¨ï¼ï¼ˆç‚¹å‡»æˆ‘åŠ Starï¼‰</a></p><h1 id="ğŸ§¹-QQ-Summary-Genius-QQèŠå¤©æ–‡å­—è®°å½•AIæ€»ç»“åŠ©æ‰‹"><a href="#ğŸ§¹-QQ-Summary-Genius-QQèŠå¤©æ–‡å­—è®°å½•AIæ€»ç»“åŠ©æ‰‹" class="headerlink" title="ğŸ§¹ QQ Summary Genius: QQèŠå¤©æ–‡å­—è®°å½•AIæ€»ç»“åŠ©æ‰‹"></a>ğŸ§¹ QQ Summary Genius: QQèŠå¤©æ–‡å­—è®°å½•AIæ€»ç»“åŠ©æ‰‹</h1><p>QQ Summary Genius ï¼Œä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„QQèŠå¤©AIæ€»ç»“å·¥å…·ï¼Œå¸®ä½ æç‚¼æœ‰ä»·å€¼çš„è®¨è®ºå†…å®¹ã€‚</p><h2 id="ğŸŒŸ-ä¸»è¦åŠŸèƒ½"><a href="#ğŸŒŸ-ä¸»è¦åŠŸèƒ½" class="headerlink" title="ğŸŒŸ ä¸»è¦åŠŸèƒ½"></a>ğŸŒŸ ä¸»è¦åŠŸèƒ½</h2><ul><li>æ•°æ®é¢„å¤„ç†éƒ¨åˆ†<ul><li>ğŸ“… æ ¹æ®æ—¥æœŸèŒƒå›´ç­›é€‰å†…å®¹</li><li>ğŸ—‘ï¸ ç§»é™¤æ—¥æœŸæ—¶é—´è¡Œã€QQå·ã€æ˜µç§°ç­‰ä¿¡æ¯</li><li>ğŸ–¼ï¸ ç§»é™¤[å›¾ç‰‡]æ ‡è®°å’Œå…¶ä»–è¡¨æƒ…ç¬¦å·</li><li>âš™ï¸ ç§»é™¤ç³»ç»Ÿæ¶ˆæ¯å’Œæ— ç”¨é‡å¤æ¶ˆæ¯ï¼Œæ”¯æŒè‡ªå®šä¹‰è¿‡æ»¤å…³é”®è¯<!-- - ğŸ“Š æä¾›è¯¦ç»†çš„å¤„ç†ç»Ÿè®¡ä¿¡æ¯ --></li></ul></li><li>AI æ€»ç»“éƒ¨åˆ†<ul><li>ğŸ¤– æ”¯æŒè°ƒç”¨å¤šç§ AI APIï¼ˆSiliconFlowã€OpenAIã€Anthropicï¼‰è¿›è¡Œå†…å®¹æ€»ç»“</li><li>ğŸ“Š ç”ŸæˆMarkdownæ ¼å¼çš„æ€»ç»“æŠ¥å‘Š<!-- - âš¡ ä½¿ç”¨å¤šçº¿ç¨‹å¹¶è¡Œè°ƒç”¨å¤šä¸ªAPIæé«˜æ•ˆç‡ --></li><li>ğŸ”‘ ä¾¿æ·çš„ API å¯†é’¥ã€æ¨¡å‹ã€æç¤ºè¯é…ç½®ç³»ç»Ÿï¼Œæ”¯æŒäº¤äº’å¼è®¾ç½®</li><li>ğŸ”’ ç»“æœç•™äºæœ¬åœ°ï¼Œå®‰å…¨æ€§é«˜</li></ul></li></ul><span id="more"></span><h2 id="ğŸ“-ç›®å½•ç»“æ„"><a href="#ğŸ“-ç›®å½•ç»“æ„" class="headerlink" title="ğŸ“ ç›®å½•ç»“æ„"></a>ğŸ“ ç›®å½•ç»“æ„</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ process_chat_logs.py  # èŠå¤©è®°å½•æ¸…ç†ä¸»ç¨‹åº</span><br><span class="line">â”œâ”€â”€ generate_conclusion.py # AIæ€»ç»“åŠŸèƒ½ä¸»ç¨‹åº</span><br><span class="line">â”œâ”€â”€ api_config.py         # APIé…ç½®ç®¡ç†å·¥å…·</span><br><span class="line">â”œâ”€â”€ setup.py              # ç¯å¢ƒé…ç½®ä¸åˆå§‹åŒ–è„šæœ¬</span><br><span class="line">â”œâ”€â”€ api_keys.ini          # APIå¯†é’¥é…ç½®æ–‡ä»¶(é€šè¿‡ setup.py è‡ªåŠ¨ç”Ÿæˆ)</span><br><span class="line">â”œâ”€â”€ filter_keywords.txt   # è¿‡æ»¤è§„åˆ™é…ç½®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ inputs/               # è¾“å…¥æ–‡ä»¶ç›®å½•</span><br><span class="line">â”œâ”€â”€ outputs/              # æ¸…ç†åçš„è¾“å‡ºæ–‡ä»¶ç›®å½•</span><br><span class="line">â””â”€â”€ conclusion/           # AIæ€»ç»“ç”Ÿæˆçš„æ–‡ä»¶ç›®å½•</span><br></pre></td></tr></table></figure><h2 id="å®ç°æ•ˆæœ"><a href="#å®ç°æ•ˆæœ" class="headerlink" title="å®ç°æ•ˆæœ"></a>å®ç°æ•ˆæœ</h2><p>ç¤ºä¾‹æ–‡ä»¶ä½äº <code>inputs/</code>ã€<code>outputs/</code>ã€<code>conclusion/</code>ä¸­ã€‚</p><h2 id="ğŸš€-å¿«é€Ÿå¼€å§‹"><a href="#ğŸš€-å¿«é€Ÿå¼€å§‹" class="headerlink" title="ğŸš€ å¿«é€Ÿå¼€å§‹"></a>ğŸš€ å¿«é€Ÿå¼€å§‹</h2><ol><li><p>å…‹éš†ä»“åº“ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/JyiDeng/QQ-Summary-Genius.git</span><br></pre></td></tr></table></figure></li><li><p>è¿è¡Œåˆå§‹åŒ–è„šæœ¬ï¼ˆæ¨èï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python setup.py</span><br></pre></td></tr></table></figure><p>è¿™å°†è‡ªåŠ¨åˆ›å»ºæ‰€éœ€ç›®å½•ã€å®‰è£…ä¾èµ–ï¼Œå¹¶å¼•å¯¼ä½ é…ç½® API å¯†é’¥ã€ç³»ç»Ÿæç¤ºè¯ã€‚</p></li></ol><p>æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨å®Œæˆè¿™äº›æ­¥éª¤ï¼š</p><ol start="3"><li><p>å‡†å¤‡èŠå¤©è®°å½•ï¼š</p><ul><li>å°†QQèŠå¤©è®°å½•æ–‡ä»¶æ”¾å…¥ <code>inputs</code> ç›®å½•<ul><li>èŠå¤©è®°å½•å¯¼å‡ºï¼šå¯ä»¥ä½¿ç”¨æ€€æ—§ç‰ˆQQï¼ˆå®˜ç½‘ä¸‹è½½ï¼Œä¸å¸¦NTæ¶æ„å­—æ ·ï¼Œå¯å‚è€ƒ<a href="https://dldir1.qq.com/qqfile/qq/PCQQ9.7.23/QQ9.7.23.29400.exe">(https://dldir1.qq.com/qqfile/qq/PCQQ9.7.23/QQ9.7.23.29400.exe)</a> ï¼‰ï¼Œå³é”®å•å‡»ç¾¤èŠï¼Œç‚¹å‡»<code>æŸ¥çœ‹æ¶ˆæ¯è®°å½•</code>ï¼Œè¿›å…¥<code>æ¶ˆæ¯ç®¡ç†å™¨</code>ï¼Œå³é”®å•å‡»æŸä¸ªç¾¤èŠï¼Œç‚¹å‡»<code>å¯¼å‡ºæ¶ˆæ¯è®°å½•</code>; </li><li>é€‰æ‹©<code>txt</code>æ–‡ä»¶æ ¼å¼ï¼Œå¯¼å‡ºæ–‡ä»¶åˆ°<code>./inputs</code>æ–‡ä»¶å¤¹<!-- - ç¡®ä¿æ–‡ä»¶ä½¿ç”¨ UTF-8 ç¼–ç  --></li></ul></li></ul></li><li><p>è¿è¡ŒèŠå¤©è®°å½•æ¸…ç†ç¨‹åºï¼šï¼ˆå…·ä½“å‚æ•°é…ç½®è§åæ–‡ï¼‰</p></li></ol><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python process_chat_logs.py</span><br></pre></td></tr></table></figure><ol start="5"><li>é…ç½® AI API å¯†é’¥ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python api_config.py</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python generate_conclusion.py -c</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œæ‰“å¼€<code>J:\Project_Playground\qq_chat_ai_conclusion\api_keys.ini</code>ï¼Œè®¾ç½® APIã€‚</p><ol start="6"><li>é€‰æ‹©æ¨¡å‹ï¼š</li></ol><p>æ‰“å¼€<code>J:\Project_Playground\qq_chat_ai_conclusion\api_keys.ini</code>ï¼Œè®¾ç½®å¯¹åº” API çš„æ¨¡å‹ã€‚</p><ol start="7"><li>è¿è¡ŒAIæ€»ç»“ç¨‹åºï¼šï¼ˆå…·ä½“å‚æ•°é…ç½®è§åæ–‡ï¼‰<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python generate_conclusion.py</span><br></pre></td></tr></table></figure></li></ol><p>é¢„å¤„ç†åçš„æ–‡ä»¶å°†ä¿å­˜åœ¨ <code>outputs</code> ç›®å½•ï¼Œæ–‡ä»¶åæ ¼å¼ä¸ºï¼š<code>cleaned_åŸæ–‡ä»¶å_æ—¥æœŸèŒƒå›´.txt</code><br>æ€»ç»“æ–‡ä»¶å°†ä¿å­˜åœ¨ <code>conclusion</code> ç›®å½•ï¼Œæ–‡ä»¶åæ ¼å¼ä¸ºï¼š<code>conclusion_åŸæ–‡ä»¶å_æ—¥æœŸèŒƒå›´.md</code></p><h2 id="ğŸ“–-è¯¦ç»†ä½¿ç”¨è¯´æ˜"><a href="#ğŸ“–-è¯¦ç»†ä½¿ç”¨è¯´æ˜" class="headerlink" title="ğŸ“– è¯¦ç»†ä½¿ç”¨è¯´æ˜"></a>ğŸ“– è¯¦ç»†ä½¿ç”¨è¯´æ˜</h2><h3 id="Step-1-èŠå¤©è®°å½•æ¸…ç†-å‘½ä»¤è¡Œå‚æ•°"><a href="#Step-1-èŠå¤©è®°å½•æ¸…ç†-å‘½ä»¤è¡Œå‚æ•°" class="headerlink" title="Step 1. èŠå¤©è®°å½•æ¸…ç† - å‘½ä»¤è¡Œå‚æ•°"></a>Step 1. èŠå¤©è®°å½•æ¸…ç† - å‘½ä»¤è¡Œå‚æ•°</h3><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>-f, --file</code></td><td>æŒ‡å®šè¦å¤„ç†çš„æ–‡ä»¶</td><td><code>-f &quot;chat.txt&quot;</code></td></tr><tr><td><code>-o, --output</code></td><td>æŒ‡å®šè¾“å‡ºæ–‡ä»¶è·¯å¾„</td><td><code>-o &quot;output/result.txt&quot;</code></td></tr><tr><td><code>-d, --directory</code></td><td>å¤„ç†æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</td><td><code>-d &quot;inputs&quot;</code></td></tr><tr><td><code>-v, --verbose</code></td><td>æ˜¾ç¤ºè¯¦ç»†å¤„ç†ä¿¡æ¯</td><td><code>-v</code></td></tr><tr><td><code>-k, --keywords</code></td><td>æŒ‡å®šè¿‡æ»¤å…³é”®è¯é…ç½®æ–‡ä»¶</td><td><code>-k &quot;filter_keywords.txt&quot;</code></td></tr><tr><td><code>-t, --date</code></td><td>æŒ‡å®šæ—¥æœŸèŒƒå›´</td><td><code>-t &quot;2025-03-18&quot;</code></td></tr></tbody></table><h4 id="åŸºæœ¬ç”¨ä¾‹"><a href="#åŸºæœ¬ç”¨ä¾‹" class="headerlink" title="åŸºæœ¬ç”¨ä¾‹"></a>åŸºæœ¬ç”¨ä¾‹</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¤„ç† inputs ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå‚æ•°å‡é‡‡å–é»˜è®¤å€¼</span></span><br><span class="line">python process_chat_logs.py</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†å•ä¸ªæ–‡ä»¶</span></span><br><span class="line">python process_chat_logs.py -f <span class="string">&quot;inputs/example.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºè¯¦ç»†å¤„ç†ä¿¡æ¯</span></span><br><span class="line">python process_chat_logs.py -v</span><br></pre></td></tr></table></figure><h4 id="æ—¥æœŸç­›é€‰ç¤ºä¾‹"><a href="#æ—¥æœŸç­›é€‰ç¤ºä¾‹" class="headerlink" title="æ—¥æœŸç­›é€‰ç¤ºä¾‹"></a>æ—¥æœŸç­›é€‰ç¤ºä¾‹</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç­›é€‰æŒ‡å®šæ—¥æœŸçš„å†…å®¹</span></span><br><span class="line">python process_chat_logs.py -t <span class="string">&quot;2025-03-18&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç­›é€‰æ—¥æœŸèŒƒå›´çš„å†…å®¹</span></span><br><span class="line">python process_chat_logs.py -t <span class="string">&quot;2025-03-16=2025-03-18&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»„åˆä½¿ç”¨å‚æ•°</span></span><br><span class="line">python process_chat_logs.py -f <span class="string">&quot;example.txt&quot;</span> -t <span class="string">&quot;2025-03-18&quot;</span> -v</span><br></pre></td></tr></table></figure><h3 id="Step-2-AI-æ€»ç»“-å‘½ä»¤è¡Œå‚æ•°"><a href="#Step-2-AI-æ€»ç»“-å‘½ä»¤è¡Œå‚æ•°" class="headerlink" title="Step 2. AI æ€»ç»“ - å‘½ä»¤è¡Œå‚æ•°"></a>Step 2. AI æ€»ç»“ - å‘½ä»¤è¡Œå‚æ•°</h3><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>-f, --file</code></td><td>æŒ‡å®šè¦æ€»ç»“çš„æ–‡ä»¶</td><td><code>-f &quot;outputs/cleaned_example.txt&quot;</code></td></tr><tr><td><code>-d, --input-dir</code></td><td>æŒ‡å®šè¦å¤„ç†çš„æ–‡ä»¶ç›®å½•ï¼Œé»˜è®¤ä¸ºoutputs</td><td><code>-d &quot;outputs&quot;</code></td></tr><tr><td><code>-o, --output-dir</code></td><td>æŒ‡å®šæ€»ç»“æ–‡ä»¶è¾“å‡ºç›®å½•ï¼Œé»˜è®¤ä¸ºconclusion</td><td><code>-o &quot;conclusion&quot;</code></td></tr><tr><td><code>-a, --api</code></td><td>æŒ‡å®šè¦ä½¿ç”¨çš„APIæºï¼Œå¯å¤šé€‰ï¼Œé»˜è®¤ä¸ºsiliconflow</td><td><code>-a siliconflow openai anthropic</code></td></tr><tr><td><code>-p, --prompt</code></td><td>è‡ªå®šä¹‰æç¤ºè¯</td><td><code>-p &quot;è¯·æ€»ç»“ä»¥ä¸‹å†…å®¹çš„ä¸»è¦è¯é¢˜ï¼š&quot;</code></td></tr><tr><td><code>-c, --config</code></td><td>é…ç½®APIå¯†é’¥</td><td><code>-c</code></td></tr><tr><td><code>-m, --model</code></td><td>æŒ‡å®šè¦ä½¿ç”¨çš„SiliconFlowæ¨¡å‹åç§°</td><td><code>-m &quot;qwen/Qwen2.5-7B-Chat&quot;</code></td></tr><tr><td><code>-s, --system-prompt</code></td><td>è®¾ç½®ç³»ç»Ÿæç¤ºè¯</td><td><code>-s &quot;ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ä¼šè®®çºªè¦æ•´ç†ä¸“å®¶&quot;</code></td></tr></tbody></table><h4 id="ç³»ç»Ÿæç¤ºè¯é…ç½®"><a href="#ç³»ç»Ÿæç¤ºè¯é…ç½®" class="headerlink" title="ç³»ç»Ÿæç¤ºè¯é…ç½®"></a>ç³»ç»Ÿæç¤ºè¯é…ç½®</h4><p>ç¨‹åºä½¿ç”¨çš„é»˜è®¤ç³»ç»Ÿæç¤ºè¯ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„èŠå¤©å†…å®¹åˆ†æåŠ©æ‰‹ã€‚ä½ çš„ä»»åŠ¡æ˜¯å¯¹QQèŠå¤©è®°å½•è¿›è¡Œç®€æ˜æ‰¼è¦çš„æ€»ç»“ï¼Œæå–ä¸»è¦è¯é¢˜å’Œå…³é”®ä¿¡æ¯ã€‚æ ¼å¼ä¸Šï¼ŒæŒ‰ç…§æ—¶é—´é¡ºåºåˆ’åˆ†å°æ ‡é¢˜ï¼Œæ€»ç»“å„ä¸ªè¯é¢˜ä¸»è¦å†…å®¹ã€‚</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯ï¼š</p><ol><li><p><strong>ä½¿ç”¨setup.pyé…ç½®ï¼ˆæ¨èï¼‰</strong>ï¼š<br>è¿è¡Œ <code>python setup.py</code> å¹¶æŒ‰ç…§æç¤ºä¿®æ”¹ç³»ç»Ÿæç¤ºè¯ã€‚</p></li><li><p><strong>ç›´æ¥ç¼–è¾‘æ–‡ä»¶</strong>ï¼š<br>ä¿®æ”¹ <code>generate_conclusion.py</code> æ–‡ä»¶ä¸­çš„ <code>SYSTEM_PROMPT</code> å¸¸é‡ã€‚</p></li></ol><h4 id="åŸºæœ¬ç”¨ä¾‹-1"><a href="#åŸºæœ¬ç”¨ä¾‹-1" class="headerlink" title="åŸºæœ¬ç”¨ä¾‹"></a>åŸºæœ¬ç”¨ä¾‹</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨é»˜è®¤APIæº(SiliconFlow)å¤„ç†outputsç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">python generate_conclusion.py</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†å•ä¸ªæ–‡ä»¶</span></span><br><span class="line">python generate_conclusion.py -f <span class="string">&quot;outputs/cleaned_example.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨å¤šä¸ªAPIæºè¿›è¡Œæ€»ç»“</span></span><br><span class="line">python generate_conclusion.py -a siliconflow openai anthropic</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªå®šä¹‰æç¤ºè¯</span></span><br><span class="line">python generate_conclusion.py -p <span class="string">&quot;è¯·åˆ†æå¹¶æ€»ç»“ä»¥ä¸‹èŠå¤©å†…å®¹çš„æ ¸å¿ƒè§‚ç‚¹ï¼š&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šä½¿ç”¨çš„æ¨¡å‹</span></span><br><span class="line">python generate_conclusion.py -m <span class="string">&quot;qwen/Qwen2.5-72B-Chat&quot;</span></span><br></pre></td></tr></table></figure><h4 id="API-é…ç½®è¯´æ˜"><a href="#API-é…ç½®è¯´æ˜" class="headerlink" title="API é…ç½®è¯´æ˜"></a>API é…ç½®è¯´æ˜</h4><p>ç¨‹åºæä¾›äº†ä¸¤ç§æ–¹å¼é…ç½®APIå¯†é’¥ï¼š</p><ol><li><p><strong>äº¤äº’å¼é…ç½®ï¼ˆæ¨èï¼‰</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python generate_conclusion.py -c</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python api_config.py</span><br></pre></td></tr></table></figure><p>è¿™å°†å¯åŠ¨äº¤äº’å¼é…ç½®å‘å¯¼ï¼Œå¼•å¯¼ä½ è¾“å…¥å„ä¸ªAPIçš„å¯†é’¥ã€‚</p></li><li><p><strong>æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶</strong>ï¼š<br>é…ç½®æ–‡ä»¶ä¿å­˜åœ¨ <code>api_keys.ini</code>ï¼Œä½ å¯ä»¥ç›´æ¥ç¼–è¾‘æ­¤æ–‡ä»¶è®¾ç½®å¯†é’¥ï¼š</p><figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[siliconflow]</span></span><br><span class="line"><span class="attr">api_key</span> = your_api_key_here</span><br><span class="line"><span class="attr">api_url</span> = https://api.siliconflow.cn/v1/chat/completions</span><br><span class="line"><span class="attr">model</span> = deepseek-ai/DeepSeek-R1-Distill-Qwen-<span class="number">7</span>B</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">[openai]</span></span><br><span class="line"><span class="attr">api_key</span> = your_api_key_here</span><br><span class="line"><span class="attr">api_url</span> = https://api.openai.com/v1/chat/completions</span><br><span class="line"><span class="attr">model</span> = gpt-<span class="number">3.5</span>-turbo</span><br><span class="line"></span><br><span class="line"><span class="section">[anthropic]</span></span><br><span class="line"><span class="attr">api_key</span> = your_api_key_here</span><br><span class="line"><span class="attr">api_url</span> = https://api.anthropic.com/v1/messages</span><br><span class="line"><span class="attr">model</span> = claude-<span class="number">3</span>-sonnet-<span class="number">20240229</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="æ¨¡å‹é€‰æ‹©-ä»¥-SiliconFlow-ä¸ºä¾‹"><a href="#æ¨¡å‹é€‰æ‹©-ä»¥-SiliconFlow-ä¸ºä¾‹" class="headerlink" title="æ¨¡å‹é€‰æ‹© - ä»¥ SiliconFlow ä¸ºä¾‹"></a>æ¨¡å‹é€‰æ‹© - ä»¥ SiliconFlow ä¸ºä¾‹</h4><p>ä»¥ SiliconFlow å¹³å°ä¸ºä¾‹ï¼Œå®ƒæä¾›äº†å¤šç§å¯ç”¨æ¨¡å‹ï¼Œæˆ‘ä»¬åœ¨æ­¤éœ€è¦é€‰æ‹©ï¼š</p><ul><li><strong>DeepSeek</strong>ï¼š<code>Pro/deepseek-ai/DeepSeek-R1</code>ã€<code>deepseek-ai/DeepSeek-R1-Distill-Qwen-7B</code>ï¼ˆé»˜è®¤ä½¿ç”¨çš„æ¨¡å‹ï¼‰ç­‰</li><li><strong>Qwen</strong>ï¼š<code>Qwen/Qwen2.5-72B-Instruct-128K</code>ã€<code>Qwen/Qwen2.5-Coder-7B-Instruct</code>ç­‰</li><li><strong>internlm</strong>ï¼š<code>internlm/internlm2_5-7b-chat</code>ã€<code>internlm/internlm2_5-20b-chat</code>ç­‰</li><li><strong>BAAI</strong>ï¼š<code>BAAI/bge-large-zh-v1.5</code>ç­‰</li><li><strong>THUDM</strong>ï¼š<code>THUDM/glm-4-9b-chat</code>ç­‰</li><li>â€¦(å…¶ä»–æ¨¡å‹)</li></ul><p>ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æŒ‡å®šæ¨¡å‹ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># A. ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°æŒ‡å®š</span></span><br><span class="line">python generate_conclusion.py -m <span class="string">&quot;Qwen/Qwen2.5-Coder-7B-Instruct&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># B. åœ¨api_keys.iniæ–‡ä»¶ä¸­ä¿®æ”¹modelå­—æ®µ</span></span><br></pre></td></tr></table></figure><p>æˆ–åœ¨<code>api_keys.ini</code>æ–‡ä»¶ä¸­ä¿®æ”¹modelå­—æ®µã€‚</p><p>å¦‚æœæŠ¥é”™ä¸ºæ¨¡å‹ä¸å­˜åœ¨ï¼Œå¯èƒ½æ˜¯ä»¥ä¸Šæ¨¡å‹è¿‡æœŸï¼Œè¯·æŸ¥é˜…SiliconFlowå®˜æ–¹æ–‡æ¡£è·å–æœ€æ–°çš„æ¨¡å‹åˆ—è¡¨ã€‚</p><h3 id="âš™ï¸-è‡ªå®šä¹‰è¿‡æ»¤è§„åˆ™"><a href="#âš™ï¸-è‡ªå®šä¹‰è¿‡æ»¤è§„åˆ™" class="headerlink" title="âš™ï¸ è‡ªå®šä¹‰è¿‡æ»¤è§„åˆ™"></a>âš™ï¸ è‡ªå®šä¹‰è¿‡æ»¤è§„åˆ™</h3><p>åœ¨ <code>filter_keywords.txt</code> ä¸­æ·»åŠ è¿‡æ»¤è§„åˆ™ï¼Œæ¯è¡Œä¸€ä¸ªï¼š</p><figure class="highlight text"><table><tr><td class="code"><pre><span class="line"># æ™®é€šæ–‡æœ¬</span><br><span class="line">Qç¾¤ç®¡å®¶</span><br><span class="line">[å›¾ç‰‡]</span><br><span class="line"></span><br><span class="line"># æ­£åˆ™è¡¨è¾¾å¼ï¼ˆä»¥ \ å¼€å¤´ï¼‰</span><br><span class="line">\[è¡¨æƒ…\]</span><br><span class="line">\[æµæ³ª\].*</span><br></pre></td></tr></table></figure><p>ç­‰ç­‰ã€‚</p><h2 id="ğŸ¤-è´¡çŒ®"><a href="#ğŸ¤-è´¡çŒ®" class="headerlink" title="ğŸ¤ è´¡çŒ®"></a>ğŸ¤ è´¡çŒ®</h2><p>æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥å¸®åŠ©æ”¹è¿›è¿™ä¸ªå·¥å…·ï¼</p><h2 id="ğŸ“„-è®¸å¯è¯"><a href="#ğŸ“„-è®¸å¯è¯" class="headerlink" title="ğŸ“„ è®¸å¯è¯"></a>ğŸ“„ è®¸å¯è¯</h2><p>MIT License - è¯¦è§ <a href="https://github.com/JyiDeng/QQ-Summary-Genius/blob/master/LICENSE">LICENSE</a> æ–‡ä»¶</p>]]></content>
      
      
      <categories>
          
          <category> Widget/Tools æ’ä»¶/å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SunshineğŸŒå°å¤ªé˜³ - Your Desktop Pinned Motto &amp; Pic Widget (Windows)</title>
      <link href="/2025/03/10/Sunshine%F0%9F%8C%9E%E5%B0%8F%E5%A4%AA%E9%98%B3%20-%20Your%20Desktop%20Pinned%20Motto%20&amp;%20Pic%20(Windows)/"/>
      <url>/2025/03/10/Sunshine%F0%9F%8C%9E%E5%B0%8F%E5%A4%AA%E9%98%B3%20-%20Your%20Desktop%20Pinned%20Motto%20&amp;%20Pic%20(Windows)/</url>
      
        <content type="html"><![CDATA[<p><a href="https://github.com/JyiDeng/Sunshine-Your-Desktop-Pinned-Motto-and-Pic-Widget-on-Windows">å†™äº†ä¸€ä¸ªæ–°çš„ Windows æ¡Œé¢æ’ä»¶ï¼æ¬¢è¿æ¥ github ä½¿ç”¨ï¼ï¼ˆç‚¹å‡»æˆ‘åŠ Starï¼‰</a></p><p>ğŸŒ<strong>Sunshine å°å¤ªé˜³</strong> çš„çµæ„Ÿæ¥æºäºä½œè€…é˜´é›¨å¤©æ—¶å¿ƒæƒ…ä¸ä½³ï¼Œå¸Œæœ›ç”¨é˜³å…‰ä¸ºç”¨æˆ·å¸¦æ¥æ¸©æš–ã€‚åŸºäº Windows ï¼Œ Sunshine å¯ä»¥å±•ç¤ºè‡ªå®šä¹‰çš„æ ¼è¨€ã€å›¾ç‰‡ï¼Œå¯ä»¥åˆ‡æ¢å–œæ¬¢çš„ä¸»é¢˜ï¼Œè¿è¡Œä¹Ÿéå¸¸ç®€å•ã€‚</p><p>Sunshine was inspired by the authorâ€™s bad mood on rainy days, hoping to bring warmth to users. Based on Windows, Sunshine can display customized mottos and pics, switch favorite themes, and is easy to run.</p><h2 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h2><ul><li>ğŸ“Œ<strong>Inspirational Display</strong>: ç½®é¡¶å±•ç¤ºå¤šå¥æé†’è‡ªå·±çš„æ ¼è¨€ï¼Œå¹¶é…ä¸Šä¸€å¼ å›¾ç‰‡ã€‚Presents multiple self - reminding mottos accompanied by an image, all <strong>pinned</strong> on the top of all windows.</li><li>ğŸ¨<strong>Customizable Settings</strong>: å¯ä»¥åˆ‡æ¢ä¸»é¢˜ã€è°ƒæ•´çª—å£å¤§å°ã€è®¾ç½®æ ¼è¨€åˆ·æ–°é¢‘ç‡ç­‰ã€‚Allows you to switch themes, adjust the window size, and set the refresh frequency of mottos. </li><li>â˜ï¸<strong>Lightweight Design</strong>: ç‰¹åˆ«è½»é‡çº§ã€‚Sunshine is extremely lightweight.</li></ul><span id="more"></span><h3 id="Sunshine-åŒè¯­æ•ˆæœå›¾-Sunshine-Screenshot-ï¼ˆBoth-in-Chinese-and-Englishï¼‰"><a href="#Sunshine-åŒè¯­æ•ˆæœå›¾-Sunshine-Screenshot-ï¼ˆBoth-in-Chinese-and-Englishï¼‰" class="headerlink" title="Sunshine åŒè¯­æ•ˆæœå›¾ Sunshine Screenshot ï¼ˆBoth in Chinese and Englishï¼‰"></a>Sunshine åŒè¯­æ•ˆæœå›¾ Sunshine Screenshot ï¼ˆBoth in Chinese and Englishï¼‰</h3><p><img src="/2025/03/10/Sunshine%F0%9F%8C%9E%E5%B0%8F%E5%A4%AA%E9%98%B3%20-%20Your%20Desktop%20Pinned%20Motto%20&%20Pic%20(Windows)/Sunshine.png" alt="Sunshine æ•ˆæœå›¾"></p><p><img src="/2025/03/10/Sunshine%F0%9F%8C%9E%E5%B0%8F%E5%A4%AA%E9%98%B3%20-%20Your%20Desktop%20Pinned%20Motto%20&%20Pic%20(Windows)/Sunshine_en.png" alt="Sunshine æ•ˆæœå›¾-en"></p><h3 id="åŒè¯­é…ç½®æ•ˆæœå›¾-Config-Screenshot-ï¼ˆBoth-in-Chinese-and-Englishï¼‰"><a href="#åŒè¯­é…ç½®æ•ˆæœå›¾-Config-Screenshot-ï¼ˆBoth-in-Chinese-and-Englishï¼‰" class="headerlink" title="åŒè¯­é…ç½®æ•ˆæœå›¾ Config Screenshot ï¼ˆBoth in Chinese and Englishï¼‰"></a>åŒè¯­é…ç½®æ•ˆæœå›¾ Config Screenshot ï¼ˆBoth in Chinese and Englishï¼‰</h3><p><img src="/2025/03/10/Sunshine%F0%9F%8C%9E%E5%B0%8F%E5%A4%AA%E9%98%B3%20-%20Your%20Desktop%20Pinned%20Motto%20&%20Pic%20(Windows)/config.png" alt="Config æ•ˆæœå›¾"> </p><p><img src="/2025/03/10/Sunshine%F0%9F%8C%9E%E5%B0%8F%E5%A4%AA%E9%98%B3%20-%20Your%20Desktop%20Pinned%20Motto%20&%20Pic%20(Windows)/config_en.png" alt="Config æ•ˆæœå›¾-en"> </p><h2 id="å®‰è£…ä¸è¿è¡Œ-Install-Run"><a href="#å®‰è£…ä¸è¿è¡Œ-Install-Run" class="headerlink" title="å®‰è£…ä¸è¿è¡Œ Install &amp; Run"></a>å®‰è£…ä¸è¿è¡Œ Install &amp; Run</h2><ol><li>ä¸‹è½½ Downloadï¼šå…‹éš†ä»“åº“ï¼Œæˆ–ä¸‹è½½zipï¼š<code>git clone git@github.com:JyiDeng/Sunshine.git</code></li><li>å®‰è£… Installï¼šä½¿ç”¨<code>requirements.txt</code>å®‰è£…éœ€è¦çš„åº“ï¼š<code>pip install -r requirements.txt</code></li><li>é…ç½® Configï¼šåœ¨<code>config.json</code>ä¸­ï¼Œé…ç½®æƒ³è¦çš„æ ¼è¨€ã€‚ In the <code>config.json</code> file, configure the mottos you desire. </li><li>è¿è¡Œ Runï¼š<code>python Sunshine.py</code>ï¼Œå¹¶åœ¨<code>è®¾ç½®/Settings</code>æŒ‰é’®ä¸­é…ç½®å…·ä½“çš„å›¾ç‰‡ã€è‰²å½©ã€å¤§å°ç­‰ã€‚ Run the program by <code>python Sunshine.py</code>. After that, in the <code>è®¾ç½®/Settings</code> button, you can configure specific elements such as images, colors, and size.</li><li>æ‹–æ‹½ Dragï¼šæŒ‰ä½å›¾ç‰‡éƒ¨åˆ†è¿›è¡Œæ‹–æ‹½ã€‚ Drag on the image part.</li></ol><h2 id="è‡´è°¢-Acknowledgement"><a href="#è‡´è°¢-Acknowledgement" class="headerlink" title="è‡´è°¢ Acknowledgement"></a>è‡´è°¢ Acknowledgement</h2><p>è®©æˆ‘ä»¬è¯´è°¢è°¢ç³¯ç±³ï¼ˆä½ å¯ä»¥åœ¨<code>pic/</code>ä¸­å‘ç°å®ƒçš„ç…§ç‰‡ä½œä¸ºç¤ºä¾‹ï¼‰ï¼šLet us thank Nuomi (You can find its photos in <code>pic/</code>):</p><p><img src="/2025/03/10/Sunshine%F0%9F%8C%9E%E5%B0%8F%E5%A4%AA%E9%98%B3%20-%20Your%20Desktop%20Pinned%20Motto%20&%20Pic%20(Windows)/cat.jpg" alt="ç³¯ç±³-ç«–"><br><img src="/2025/03/10/Sunshine%F0%9F%8C%9E%E5%B0%8F%E5%A4%AA%E9%98%B3%20-%20Your%20Desktop%20Pinned%20Motto%20&%20Pic%20(Windows)/cat2.jpg" alt="ç³¯ç±³-æ¨ª"></p>]]></content>
      
      
      <categories>
          
          <category> Widget/Tools æ’ä»¶/å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ¬åœ°éƒ¨ç½²ollama+deepseek-r1æ’é”™æ”»ç•¥(ollamaç‰ˆæœ¬è¿‡ä½/è‡ªå®šä¹‰å®‰è£…è·¯å¾„/ä¸æ˜¾ç¤ºæ€è·¯/500 INTERNAL_ERROR/å…¶ä»–å¸¸ç”¨é“¾æ¥ä¼ é€é—¨)</title>
      <link href="/2025/02/06/%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2ollama-deepseek-r1%E6%8E%92%E9%94%99%E6%94%BB%E7%95%A5-ollama%E7%89%88%E6%9C%AC%E8%BF%87%E4%BD%8E-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AE%89%E8%A3%85%E8%B7%AF%E5%BE%84-%E4%B8%8D%E6%98%BE%E7%A4%BA%E6%80%9D%E8%B7%AF-500-INTERNAL-ERROR-%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E9%93%BE%E6%8E%A5%E4%BC%A0%E9%80%81%E9%97%A8/"/>
      <url>/2025/02/06/%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2ollama-deepseek-r1%E6%8E%92%E9%94%99%E6%94%BB%E7%95%A5-ollama%E7%89%88%E6%9C%AC%E8%BF%87%E4%BD%8E-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AE%89%E8%A3%85%E8%B7%AF%E5%BE%84-%E4%B8%8D%E6%98%BE%E7%A4%BA%E6%80%9D%E8%B7%AF-500-INTERNAL-ERROR-%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E9%93%BE%E6%8E%A5%E4%BC%A0%E9%80%81%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<p>â€‹1. ollamaç‰ˆæœ¬è¿‡ä½ï¼Œdeepseekå›å¤ä¸ºç©ºï¼Œqwenæ— æ³•chat</p><ol><li>ollamaæ”¹å˜&#x2F;è‡ªå®šä¹‰å®‰è£…è·¯å¾„</li><li>Error: pull model manifest: 500: {â€œerrorsâ€:[{â€œcodeâ€:â€INTERNAL_ERRORâ€,â€messageâ€:â€internal errorâ€}]}</li><li>åœ¨cmdä½¿ç”¨ollama runï¼Œæ— æ³•æ˜¾ç¤º&lt;think&gt;çš„æ€è·¯</li><li>å…¶ä»–å„ç±»deepseekä¿¡æ¯ä¼ é€é—¨<span id="more"></span></li></ol><p>æœ¬äººç¯å¢ƒï¼šWindows 11ï¼Œä¸ä½¿ç”¨dockerï¼Œç›´æ¥å®‰è£…ollamaï¼›16GB RAMï¼Œæ— GPUã€‚</p><h1 id="1-ollamaç‰ˆæœ¬è¿‡ä½ï¼Œdeepseekå›å¤ä¸ºç©ºï¼Œqwenæ— æ³•chat"><a href="#1-ollamaç‰ˆæœ¬è¿‡ä½ï¼Œdeepseekå›å¤ä¸ºç©ºï¼Œqwenæ— æ³•chat" class="headerlink" title="1. ollamaç‰ˆæœ¬è¿‡ä½ï¼Œdeepseekå›å¤ä¸ºç©ºï¼Œqwenæ— æ³•chat"></a>1. ollamaç‰ˆæœ¬è¿‡ä½ï¼Œdeepseekå›å¤ä¸ºç©ºï¼Œqwenæ— æ³•chat</h1><blockquote><p>æ­£ç¡®å®‰è£…ollamaã€æ­£ç¡®æ‹‰å–deepseek-r1:1.5båï¼Œèƒ½å¤Ÿç”¨ollama listæ‰¾åˆ°æœ‰è¿™ä¸ªæ¨¡å‹ï¼Œä¹Ÿæœ‰chatæç¤ºè¯­ï¼ˆ<code>&gt;&gt;&gt;Send a message (/? for help)</code> ) ï¼Œä½†æ˜¯å’Œæ¨¡å‹chatçš„è¿‡ç¨‹ä¸­ï¼Œ<strong>deepseekçš„å›å¤ä¸ºç©º</strong>ï¼›<br>ä¸ºäº†éªŒè¯é—®é¢˜æ‰€åœ¨ï¼Œæ­£ç¡®æ‹‰å–qwen2:0.5bï¼Œä½†æ˜¯æ— æ³•å¼€å§‹chatï¼ŒæŠ¥é”™ï¼š<strong>Error: llama runner process no longer running: 3221226505</strong></p></blockquote><p>è§£å†³æ–¹æ¡ˆï¼šç”¨ <code>ollama --version</code> æŸ¥è¯¢ç‰ˆæœ¬æ˜¯0.1.xï¼Œç»“åˆä»¥ä¸Šä¸¤ä¸ªé—®é¢˜æ¥çœ‹ï¼Œollamaç‰ˆæœ¬å¤ªä½äº†ã€‚çµæ„Ÿæ¥è‡ªï¼š<a href="https://blog.csdn.net/alalaal/article/details/140828463">ä½¿ç”¨ollamaè¿è¡Œllama3.1é‡åˆ°é—®é¢˜+æ‰‹å·¥å‡çº§ollama</a></p><p>å…ˆå¸è½½å½“å‰ollamaï¼Œå†å›åˆ°å®˜ç½‘ä¸‹è½½æ›´é«˜ç‰ˆæœ¬çš„ollamaï¼ˆæ®2025å¹´2æœˆ6æ—¥è§‚å¯Ÿï¼Œ0.5.x å¥½ä½¿ï¼‰ã€‚å…·ä½“å¦‚ä½•å®‰è£…ï¼Œå¯ä»¥çœ‹ä»¥ä¸‹ç¬¬äºŒç‚¹é‡Œçš„é“¾æ¥ï¼š</p><h1 id="2-ollamaæ”¹å˜-è‡ªå®šä¹‰å®‰è£…è·¯å¾„"><a href="#2-ollamaæ”¹å˜-è‡ªå®šä¹‰å®‰è£…è·¯å¾„" class="headerlink" title="2. ollamaæ”¹å˜&#x2F;è‡ªå®šä¹‰å®‰è£…è·¯å¾„"></a>2. ollamaæ”¹å˜&#x2F;è‡ªå®šä¹‰å®‰è£…è·¯å¾„</h1><blockquote><p>ollamaçš„setup.exeè¿è¡Œçš„æ—¶å€™ï¼Œæ˜¯ä¸èƒ½æ‰‹åŠ¨é€‰æ‹©å®‰è£…ä½ç½®ã€modelå­˜æ”¾ä½ç½®çš„ã€‚</p></blockquote><p>å¦‚æœä½ å·²ç»å®‰è£…å®Œollamaï¼Œå¹¶ä¸”æƒ³æ”¹è·¯å¾„ï¼Œæ–¹æ³•ä¸€ï¼ˆä¸æ¨èï¼‰ï¼šå®‰è£…å®Œä»¥åï¼Œ<code>æŠŠæ•´ä¸ªollamaå¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ã€æ•´ä¸ªmodelsæ–‡ä»¶å¤¹ç§»åŠ¨åˆ°æƒ³è¦çš„ä½ç½®</code>ï¼Œ<code>å¹¶ä¸”ä¿®æ”¹ç›¸åº”çš„2ä¸ªç¯å¢ƒå˜é‡</code>ã€‚ä¸æ¨èï¼Œæ˜¯å› ä¸ºå¯èƒ½å¯¼è‡´ä¸Šé¢ç¬¬ä¸€ç‚¹çš„é—®é¢˜ã€‚å…·ä½“æ“ä½œæ–¹æ³•ï¼Œå‚è€ƒæ–‡ç« ï¼š<br><a href="https://blog.csdn.net/youeyeb/article/details/144905333">åœ¨Windowsä¸­å°†Ollamaå®‰è£…åˆ°å…¶ä»–ç›˜ï¼ˆä¾‹å¦‚Dç›˜ï¼‰çš„æ­¥éª¤å¦‚ä¸‹_ollamaå®‰è£…åˆ°dç›˜-CSDNåšå®¢</a></p><p>å¦‚æœä½ è¿˜æ²¡å®‰è£…ollamaï¼Œæ–¹æ³•äºŒæ›´å¥½ï¼šç›´æ¥åœ¨å®‰è£…æ—¶ä¿®æ”¹è·¯å¾„ï¼Œ<code>OllamaSetup.exe /DIR=ä½ æƒ³è¦å®‰è£…çš„ä½ç½®</code>ï¼Œ<code>å¹¶ä¸”ä¿®æ”¹ç›¸åº”çš„2ä¸ªç¯å¢ƒå˜é‡</code>ã€‚å…·ä½“æ“ä½œæ–¹æ³•ï¼Œå‚è€ƒæ–‡ç« ï¼š<a href="https://www.cnblogs.com/LaiYun/p/18696931">è‡ªå®šä¹‰Ollamaå®‰è£…è·¯å¾„ - ä¸æ„¿é€éœ²å§“åçš„èœé¸Ÿ - åšå®¢å›­</a> ï¼›æˆ–è€… <a href="https://blog.csdn.net/qq_36975640/article/details/145443487">OLLAMA win11å®‰è£…å®Œæ•´æŒ‡å—ï¼ˆå®‰è£…æ—¶æŒ‡å®šè·¯å¾„ï¼‰</a></p><p>å¤‡æ³¨ï¼šmodelsé»˜è®¤ç›®å½•ä¸º <code>C:\Users%username%.ollama\models</code>ï¼Œè¿™ä¸ª<code>.ollama</code>æ–‡ä»¶å¤¹é‡Œçš„<code>server.log</code>å¯ä»¥ç”¨æ¥æ’é™¤é”™è¯¯ï¼Œå…¶ä¸­çš„å†…å®¹å’Œ <code>ollama serve</code>çš„ä¸€è‡´ï¼Œæƒ³è¦è¿è¡Œåè€…çš„å‘½ä»¤ï¼Œéœ€è¦å½“å‰æ²¡æœ‰ollamaæ­£åœ¨è¿è¡Œï¼Œå…·ä½“æ“ä½œå¯ä»¥å‚è€ƒï¼š<a href="https://blog.csdn.net/weixin_40280870/article/details/145275600">Windowså®‰è£…ä¸é…ç½®Ollama-CSDNåšå®¢</a></p><h1 id="3-Error-pull-model-manifest-500-â€œerrorsâ€-â€œcodeâ€-â€INTERNAL-ERRORâ€-â€messageâ€-â€internal-errorâ€"><a href="#3-Error-pull-model-manifest-500-â€œerrorsâ€-â€œcodeâ€-â€INTERNAL-ERRORâ€-â€messageâ€-â€internal-errorâ€" class="headerlink" title="3. Error: pull model manifest: 500: {â€œerrorsâ€:[{â€œcodeâ€:â€INTERNAL_ERRORâ€,â€messageâ€:â€internal errorâ€}]}"></a>3. Error: pull model manifest: 500: {â€œerrorsâ€:[{â€œcodeâ€:â€INTERNAL_ERRORâ€,â€messageâ€:â€internal errorâ€}]}</h1><blockquote><p>æ ¹æ® <a href="https://github.com/ollama/ollama/issues/8873">GitHub: pull model manifest: 500 #8873</a> ï¼šåŒ—äº¬æ—¶é—´2025å¹´2æœˆ6æ—¥16:20å·¦å³å¼€å§‹ï¼Œæ‹‰å–ä¸äº†æ–°æ¨¡å‹</p></blockquote><p>è§£å†³æ–¹æ¡ˆï¼šç­‰å¾…ollamaä¿®å¤ã€‚<br>ç»“æœï¼š17:30å·¦å³ï¼Œå¯ä»¥æ­£å¸¸pulläº†ã€‚</p><p>ï¼ˆè§‰å¾—é€Ÿåº¦å¾ˆæ…¢ï¼Ÿæœ¬äººä½¿ç”¨é­”æ³•åï¼Œå¯¹äºæé€Ÿä¾ç„¶æ— æ•ˆï¼Œåªèƒ½ç¡¬ç­‰ã€‚ã€‚ã€‚ï¼‰</p><h1 id="4-åœ¨cmdä½¿ç”¨ollama-runï¼Œæ— æ³•æ˜¾ç¤ºçš„æ€è·¯"><a href="#4-åœ¨cmdä½¿ç”¨ollama-runï¼Œæ— æ³•æ˜¾ç¤ºçš„æ€è·¯" class="headerlink" title="4. åœ¨cmdä½¿ç”¨ollama runï¼Œæ— æ³•æ˜¾ç¤º&lt;think&gt;çš„æ€è·¯"></a>4. åœ¨cmdä½¿ç”¨ollama runï¼Œæ— æ³•æ˜¾ç¤º&lt;think&gt;çš„æ€è·¯</h1><blockquote><p>&lt;think&gt;&lt;&#x2F;think&gt;ä¸­ï¼Œå†…å®¹ä¸ºç©ºï¼›<br>é—®é¢˜å›ç­”å¤ªè¿‡ç®€å•ï¼Œç”šè‡³æœ‰äº›ä¸å¸¦è„‘å­ã€‚</p></blockquote><p>å¯èƒ½åŸå› ï¼š</p><ul><li>åœ¨cmdçš„é»˜è®¤è·¯å¾„ï¼ˆC:\Users\ä½ çš„ç”¨æˆ·åï¼‰è¿›è¡Œ<code>ollama run ä½ çš„æ¨¡å‹åå­—</code>ï¼Œç¡®å®ä¼šå¯¼è‡´å®ƒçš„å›ç­”ä¸å¸¦è„‘å­ï¼ˆæˆ‘ä¹Ÿå¾ˆå¥½å¥‡ä¸ºä»€ä¹ˆï¼‰ã€‚<ul><li>è§£å†³æ–¹æ¡ˆ1ï¼šæ¢ä¸€ä¸ªè·¯å¾„ï¼Œè­¬å¦‚åœ¨cmd è¾“å…¥ <code>cd Downloads</code> å³å¯ã€‚</li><li>è§£å†³æ–¹æ¡ˆ2ï¼šå†™ç¨‹åºè°ƒç”¨ã€‚ï¼ˆjsç¨‹åºè§ä¸‹ï¼‰</li><li>è§£å†³æ–¹æ¡ˆ3ï¼šä½¿ç”¨Chatboxç­‰å·¥å…·è°ƒç”¨ã€‚å‚è€ƒï¼š<a href="https://cloud.tencent.com/developer/article/2492444">é«˜æ•ˆå¿«é€Ÿæ•™ä½ deepseekå¦‚ä½•è¿›è¡Œæœ¬åœ°éƒ¨ç½²å¹¶ä¸”å¯è§†åŒ–å¯¹è¯</a></li></ul></li><li>é—®é¢˜è¿‡äºç®€å•ï¼Œè­¬å¦‚èŠå¤©ä¸­çš„ç¬¬ä¸€å¥â€œä½ å¥½â€ï¼Œç¡®å®æ²¡æœ‰æ€è€ƒè¿‡ç¨‹ã€‚</li><li>å¯èƒ½æ˜¯ç‰ˆæœ¬è¿‡ä½ï¼Œè·³è½¬ç¬¬ä¸€ç‚¹é—®é¢˜ä¸è§£å†³ã€‚</li></ul><p>å¯å‚è€ƒçš„æœ€ç®€æ˜“ç‰ˆ javascript ç¨‹åºï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;http://localhost:11434/api/generate&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123; <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span> &#125;,</span><br><span class="line">  <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">    <span class="attr">model</span>: <span class="string">&quot;deepseek-r1:1.5b&quot;</span>,</span><br><span class="line">    <span class="attr">prompt</span>: <span class="string">&quot;å¦‚æœä¸€åªæ©˜å­åšç§°å®ƒæ˜¯ä¸€åªçŒ«ï¼Œäººå·¥æ™ºèƒ½è¯¥æ€ä¹ˆåŠï¼Ÿ&quot;</span>,</span><br><span class="line">    <span class="attr">stream</span>: <span class="literal">false</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> response.<span class="title function_">json</span>())</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(data));</span><br></pre></td></tr></table></figure><h1 id="5-å…¶ä»–å„ç±»deepseekä¿¡æ¯ä¼ é€é—¨"><a href="#5-å…¶ä»–å„ç±»deepseekä¿¡æ¯ä¼ é€é—¨" class="headerlink" title="5. å…¶ä»–å„ç±»deepseekä¿¡æ¯ä¼ é€é—¨"></a>5. å…¶ä»–å„ç±»deepseekä¿¡æ¯ä¼ é€é—¨</h1><p>ollamaå®˜ç½‘ä¸‹è½½é“¾æ¥ï¼ˆè®¿é—®ç½‘é¡µä¸éœ€è¦é­”æ³•ï¼Œä½†ä¸‹è½½éœ€è¦ï¼‰ï¼š <a href="https://ollama.com/download">Download Ollama</a> ï¼Œæˆ–è€…GitHubä¸‹è½½é“¾æ¥ï¼š<a href="https://github.com/ollama/ollama/releases">Releases Â· ollama&#x2F;ollama</a></p><p>å„ä¸ªdeepseekæ¨¡å‹å¯¹åº”çš„ç”µè„‘æ€§èƒ½ï¼š<a href="https://zhuanlan.zhihu.com/p/21674080803">DeepSeekæ¨¡å‹å„ç‰ˆæœ¬ç¡¬ä»¶è¦æ±‚æŒ‡å—</a> ï¼Œä»¥åŠï¼ˆè¿™ç¯‡ä¸ç¡®å®šæ˜¯ä¸æ˜¯AIæ’°å†™çš„ï¼‰ï¼š<a href="https://codingmall.com/knowledge-base/25-global/248276-deepseek">DeepSeekç¼–ç å™¨å¯ä»¥åœ¨é¢„ç®—å‹å¥½çš„è®¾ç½®ä¸Šè¿è¡Œï¼Œè¿˜æ˜¯éœ€è¦é«˜ç«¯ç¡¬ä»¶</a></p><p>â€‹ollama ç›¸å…³å‘½ä»¤ï¼š<a href="https://www.runoob.com/ollama/ollama-commands.html">èœé¸Ÿæ•™ç¨‹-Ollama ç›¸å…³å‘½ä»¤</a></p><p>Chatboxå®˜ç½‘ä¸‹è½½é“¾æ¥ï¼ˆè®¿é—®ç½‘é¡µä¸éœ€è¦é­”æ³•ï¼Œä½†ä¸‹è½½éœ€è¦ï¼‰ï¼š<a href="https://chatboxai.app/zh">Chatbox AI</a>ï¼Œæˆ–è€…GitHubä¸‹è½½é“¾æ¥ï¼š<a href="https://github.com/Bin-Huang/chatbox/releases">Releases Â· Bin-Huang&#x2F;chatbox</a></p>]]></content>
      
      
      <categories>
          
          <category> Deepseek </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ollama </tag>
            
            <tag> Deepseek </tag>
            
            <tag> nlp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>makeä½¿ç”¨clang++æŠ¥cstdlib.hç­‰å¤´æ–‡ä»¶æ‰¾ä¸åˆ°(ubuntu22.04)</title>
      <link href="/2024/11/13/make%E4%BD%BF%E7%94%A8clang-%E6%8A%A5cstdlib-h%E7%AD%89%E5%A4%B4%E6%96%87%E4%BB%B6%E6%89%BE%E4%B8%8D%E5%88%B0-ubuntu22-04/"/>
      <url>/2024/11/13/make%E4%BD%BF%E7%94%A8clang-%E6%8A%A5cstdlib-h%E7%AD%89%E5%A4%B4%E6%96%87%E4%BB%B6%E6%89%BE%E4%B8%8D%E5%88%B0-ubuntu22-04/</url>
      
        <content type="html"><![CDATA[<p>æœ¬äººç¯å¢ƒï¼šUbuntu22.04ã€‚å‡ºäºé¡¹ç›®è¦æ±‚ï¼Œå¿…é¡»ç”¨clang++ï¼Œä¸èƒ½ç”¨g++ã€‚</p><blockquote><p>æ›´æ–°clang++ç‰ˆæœ¬æ— ç”¨ï¼Œæ›´æ–°llvmç‰ˆæœ¬æ— ç”¨ï¼Œåœ¨makefileæ·»åŠ  -I æ¥å¢åŠ includeè·¯å¾„ä¹Ÿæ²¡ç”¨ã€‚</p></blockquote><p>æœ€ågptç»™çš„è§£å†³æ–¹æ³•è§£å†³äº†é—®é¢˜ï¼š</p><p><code>sudo apt install g++-12 libstdc++-12-dev</code></p><p>è€Œä¸”ï¼Œæœ¬äººé€šè¿‡g++ â€“versionå‘ç°æˆ‘çš„ç‰ˆæœ¬æ˜¯11ï¼ˆå…·ä½“æ¥è¯´ï¼šgcc version 11.4.0 (Ubuntu 11.4.0-1ubuntu1~22.04) ï¼‰ï¼Œä½†æ˜¯ååå°±æ˜¯å®‰è£…ä¸Šæ–¹çš„12æ‰èƒ½è§£å†³é—®é¢˜ï¼ŒæŠŠ12æ¢æˆ11ä¸è¡Œã€‚</p><p>æ­¤å¤–ï¼Œåœ¨åšä¸Šæ–¹å®‰è£…ä¹‹å‰ï¼Œæˆ‘åšè¿‡ä¸€ä¸ªè·¯å¾„æ·»åŠ ï¼ˆä¸è¿‡åº”è¯¥æ˜¯ä¸´æ—¶çš„å§ï¼‰ï¼Œæˆ–è®¸å¯ä»¥ä¸€è¯•ï¼Œä½†ä¸èƒ½ç›´æ¥è§£å†³é—®é¢˜ï¼š</p><p><code>export CPLUS_INCLUDE_PATH=/usr/include/c++/11</code></p>]]></content>
      
      
      <categories>
          
          <category> ç¼–è¯‘ Compile </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
            <tag> clang++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TodoListï¼šè®°åˆæ¬¡Vuexæ¢ç´¢ï¼ˆæœ¬åœ°+Codepenï¼‰ï¼ˆä½¿ç”¨componentï¼‰(ç‰ˆæœ¬ï¼švue2, vuex3)</title>
      <link href="/2024/07/17/TodoList%EF%BC%9A%E8%AE%B0%E5%88%9D%E6%AC%A1Vuex%E6%8E%A2%E7%B4%A2%EF%BC%88%E6%9C%AC%E5%9C%B0-Codepen%EF%BC%89%EF%BC%88%E4%BD%BF%E7%94%A8component%EF%BC%89-%E7%89%88%E6%9C%AC%EF%BC%9Avue2-vuex3/"/>
      <url>/2024/07/17/TodoList%EF%BC%9A%E8%AE%B0%E5%88%9D%E6%AC%A1Vuex%E6%8E%A2%E7%B4%A2%EF%BC%88%E6%9C%AC%E5%9C%B0-Codepen%EF%BC%89%EF%BC%88%E4%BD%BF%E7%94%A8component%EF%BC%89-%E7%89%88%E6%9C%AC%EF%BC%9Avue2-vuex3/</url>
      
        <content type="html"><![CDATA[<p>â€‹<br>ä¸€ã€å†™åœ¨å‰é¢+æ•ˆæœå›¾<br>äºŒã€Vuex<br>2.1 Codepenï¼šhtml+js+css<br>2.1.1 ä¸€ä¸ªå¯èƒ½æ›´åŠ é€šé¡ºçš„æ€è·¯<br>2.2 æœ¬åœ°ï¼šApp.vueï¼Œcomponents&#x2F;component1.vueï¼Œstore&#x2F;index.js</p><span id="more"></span><h1 id="å†™åœ¨å‰é¢-æ•ˆæœå›¾"><a href="#å†™åœ¨å‰é¢-æ•ˆæœå›¾" class="headerlink" title="å†™åœ¨å‰é¢+æ•ˆæœå›¾"></a>å†™åœ¨å‰é¢+æ•ˆæœå›¾</h1><p>æœ¬æ¬¡æ˜¯æ¢ç´¢æ€§è´¨ï¼Œè‚¯å®šæœ‰ä¸€å®šå·®é”™å’Œä¸è¶³ï¼Œæˆ‘ä¼šç»§ç»­å­¦ä¹ ã€‚</p><p>ä¸åšè¯¦ç»†çš„vueå’Œvuexè¯­æ³•ã€åŠŸèƒ½ä»‹ç»ï¼Œå› ä¸ºå®˜æ–¹æ–‡æ¡£è®²å¾—æ¯”æˆ‘æ¸…æ¥šï¼Œæˆ‘ä¸»è¦æ˜¯æä¾›æ’°å†™çš„é¡ºåºæ€è·¯ï¼Œä»¥åŠå®Œæ•´çš„ä»£ç ã€‚</p><p>ç›®å½•åœ¨ä¸Šé¢ï¼Œè‡ªå–æ‰€éœ€ã€‚</p><p>æ•ˆæœå›¾ï¼š</p><p><img src="/2024/07/17/TodoList%EF%BC%9A%E8%AE%B0%E5%88%9D%E6%AC%A1Vuex%E6%8E%A2%E7%B4%A2%EF%BC%88%E6%9C%AC%E5%9C%B0-Codepen%EF%BC%89%EF%BC%88%E4%BD%BF%E7%94%A8component%EF%BC%89-%E7%89%88%E6%9C%AC%EF%BC%9Avue2-vuex3/2763475751604c36a518185969ea478c.png" alt="alt text"></p><h1 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h1><h2 id="Codepenï¼šhtml-js-css"><a href="#Codepenï¼šhtml-js-css" class="headerlink" title="Codepenï¼šhtml+js+css"></a>Codepenï¼šhtml+js+css</h2><p>å¦‚ä½•åœ¨è¿™ä¸ªç•Œé¢ä½¿ç”¨vuexï¼Ÿåªéœ€è¦åœ¨htmlé‡Œå†™ä¸Šï¼š</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vuex@3.6.2/dist/vuex.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>codepenè¿™é‡Œçš„æ„æ€å°±æ˜¯ä¸åˆ†æ–‡ä»¶å±‚çº§ï¼Œæ‰€æœ‰jséƒ½åœ¨ä¸€ä¸ªjsé‡Œï¼Œhtmlã€cssä¹Ÿæ˜¯ï¼Œç¡®å®å¾ˆç®€æ´ã€‚</p><h3 id="ä¸€ä¸ªå¯èƒ½æ›´åŠ é€šé¡ºçš„æ€è·¯"><a href="#ä¸€ä¸ªå¯èƒ½æ›´åŠ é€šé¡ºçš„æ€è·¯" class="headerlink" title="ä¸€ä¸ªå¯èƒ½æ›´åŠ é€šé¡ºçš„æ€è·¯"></a>ä¸€ä¸ªå¯èƒ½æ›´åŠ é€šé¡ºçš„æ€è·¯</h3><p>å¯¹äºjséƒ¨åˆ†ï¼Œé¦–å…ˆæŠŠæ¡†æ¶å†™å‡ºæ¥ï¼Œä¸‰ä¸ªéƒ¨åˆ†ï¼šnew Vueã€vueçš„ç»„ä»¶ã€Vuexéƒ¨åˆ†ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">mutations</span>:&#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">getters</span>:&#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">actions</span>:&#123;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">vue.<span class="title function_">component</span>(<span class="string">&#x27;c1&#x27;</span>,&#123;</span><br><span class="line">    <span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">    `</span>, </span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">    &#125;, </span><br><span class="line">    <span class="title function_">computed</span>(<span class="params"></span>)&#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">    &#125;,Â Â Â  </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">vue.<span class="title function_">component</span>(<span class="string">&#x27;c2&#x27;</span>,&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">New</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    store,</span><br><span class="line">    <span class="title function_">created</span>(<span class="params"></span>)&#123;   </span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;loadTodos&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œæ ¹æ®ç•Œé¢é‡Œæœ‰ä»€ä¹ˆï¼Œæ„æƒ³å„ä¸ªcomponentåº”è¯¥é•¿ä»€ä¹ˆæ ·ï¼Œè­¬å¦‚æˆ‘è®¤ä¸ºï¼Œæˆ‘éœ€è¦ä¸€ä¸ªheaderï¼Œè¿˜éœ€è¦ä¸€ä¸ªcontentã€‚</p><p>htmlï¼šå¯¹çš„ï¼Œç”¨ç»„ä»¶å°±è¿™ä¹ˆç®€å•æ˜äº†ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">header-component</span>&gt;</span><span class="tag">&lt;/<span class="name">header-component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">content-component</span>&gt;</span><span class="tag">&lt;/<span class="name">content-component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vuex@3.6.2/dist/vuex.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ ¹æ®htmlè®¾è®¡æ€è·¯ï¼Œåœ¨Vue.componenté‡Œå¡«å†™templateå†…å®¹ï¼šè­¬å¦‚<code>divã€button</code>ï¼Œä»¥åŠä¸€äº›è¦ç”¨çš„å˜é‡ï¼Œä¸€å¼€å§‹åªå†™ä¸ªæ¡†ï¼Œè­¬å¦‚<code>&lt;button&gt;å¢åŠ &lt;/button&gt;ï¼Œ&#123;&#123;total&#125;&#125;</code>ï¼Œå…ˆä¸è€ƒè™‘è¿™ä¸ªå˜é‡å­˜ä¸å­˜åœ¨ï¼Œä»¥ä¾¿äºæ’é™¤å†—æ‚çš„ä¿¡æ¯ï¼›</p><p>æ¥ç€ï¼Œæ ¹æ®æ–‡å­—è¯´æ˜ï¼Œå…·ä½“åœ°å¡«å†™åŠŸèƒ½ï¼Œè­¬å¦‚æˆ‘è¦å®ç°å¢åŠ ï¼Œæˆ‘å°±è¦ç‚¹è¿™ä¸ªæŒ‰é’®è°ƒç”¨å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘æ‰©å……ä¸º<code>&lt;button @click=&quot;addTodo&quot;&gt;å¢åŠ &lt;/button&gt;</code>ï¼š</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">Vue.component(&quot;header-component&quot;, &#123;</span><br><span class="line">template: `</span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;filter&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;myFilter(&#x27;all&#x27;)&quot;</span>&gt;</span>å…¨éƒ¨<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;myFilter(&#x27;finished&#x27;)&quot;</span>&gt;</span>å·²å®Œæˆ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;myFilter(&#x27;not-finished&#x27;)&quot;</span>&gt;</span>æœªå®Œæˆ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ€»å…±&#123;&#123; total &#125;&#125;æ¡ï¼Œå·²å®Œæˆ&#123;&#123; completed &#125;&#125;æ¡ï¼Œå‰©ä½™&#123;&#123; remaining &#125;&#125;æ¡<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;clearCompleted&quot;</span>&gt;</span>æ¸…é™¤å·²å®Œæˆ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;checkAll&quot;</span>&gt;</span>å…¨éƒ¨å®Œæˆ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;headerAdd&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;addTodo&quot;</span>&gt;</span>å¢åŠ æ–°çš„TODO<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    `,</span><br><span class="line">// ä»¥ä¸‹çœç•¥</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ—¢ç„¶å†™äº†ä¸€äº›æƒ³å®ç°çš„æ–¹æ³•ï¼Œè­¬å¦‚addTodoï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±åœ¨å„ä¸ªcomponentçš„methodsé‡Œå†™ä¸Šè¦è®©vuexè°ƒç”¨æ•°æ®é©±åŠ¨çš„æ–¹æ³•çš„å¤§æ¦‚æ ·å­ï¼ˆæœ‰ç‚¹åƒå…ˆå†™ä¸ªæŠ½è±¡ç±»ï¼Œä¹‹åå†å®Œå–„ï¼‰ï¼Œæ ¼å¼éƒ½æ˜¯this.$store.commit(â€˜vuexé‡Œçš„æ–¹æ³•åâ€™,è¦ä¼ çš„å˜é‡);</p><p>å˜é‡ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œåœ¨computedé‡Œå†™ã€‚vuexé‡Œå·²æœ‰çš„å˜é‡ç”¨this.$store.stateï¼Œè¦è®¡ç®—çš„å˜é‡ç”¨this.$store.gettersï¼ˆè¿™ä¸ªç›®å‰è¿˜ä¸çŸ¥é“è¦ä¸è¦è®¡ç®—ï¼Œæ‰€ä»¥å…ˆå†™ä¸€ä¸ªè¯•è¯•ï¼‰</p><p><img src="/2024/07/17/TodoList%EF%BC%9A%E8%AE%B0%E5%88%9D%E6%AC%A1Vuex%E6%8E%A2%E7%B4%A2%EF%BC%88%E6%9C%AC%E5%9C%B0-Codepen%EF%BC%89%EF%BC%88%E4%BD%BF%E7%94%A8component%EF%BC%89-%E7%89%88%E6%9C%AC%EF%BC%9Avue2-vuex3/vuex1.png" alt="alt text"></p><p>é‚£ä¹ˆç°åœ¨vueçš„éƒ¨åˆ†å®Œæˆäº†ï¼Œè¦å†™vuexäº†ã€‚æ ¹æ®ä¹‹å‰çš„è¿™äº›commitã€stateã€gettersçš„å†…å®¹ï¼Œå¡«å……Vuexï¼Œå…ˆå†™mutationï¼Œå†å†™gettersï¼Œè¿‡ç¨‹ä¸­ä¼šå‘ç°éœ€è¦å˜é‡ï¼Œå°±å¾€stateé‡ŒåŠ ã€‚å¤§æ¦‚é•¿å›¾ç‰‡é‚£æ ·</p><ul><li>mutationså’Œgettersï¼šæ¯ä¸ªå‡½æ•°çš„ç¬¬ä¸€ä¸ªå˜é‡éƒ½æ˜¯stateï¼Œä¿®æ”¹state{}é‡Œçš„æ•°æ®å¿…é¡»ç”¨è¿™ä¸ªå‰ç¼€ï¼›ç¬¬äºŒä¸ªå¼€å§‹çš„å‚æ•°æ˜¯ä¼ å…¥çš„ï¼Œæ ¹æ®ä¹‹å‰å†™çš„æ¥</li><li>å…·ä½“åŠŸèƒ½å°±åœ¨è¿™é‡Œå®ç°ï¼Œè¿™å°±æ˜¯æ•°æ®é©±åŠ¨çš„ç²¾å¦™ä¹‹å¤„ï¼Œå…·ä½“çš„æ“ä½œéƒ½è®©vuexæ‰§è¡Œï¼Œä¸ç”¨vueçš„componentä¹‹å‰ä¼ æ¥ä¼ å»çš„éº»çƒ¦</li><li>getterséœ€è¦returnï¼Œä¹‹å‰çš„computedä¹Ÿè¦å†™returnï¼Œåˆ«å¿˜äº†å°±æ˜¯ã€‚</li></ul><p><img src="/2024/07/17/TodoList%EF%BC%9A%E8%AE%B0%E5%88%9D%E6%AC%A1Vuex%E6%8E%A2%E7%B4%A2%EF%BC%88%E6%9C%AC%E5%9C%B0-Codepen%EF%BC%89%EF%BC%88%E4%BD%BF%E7%94%A8component%EF%BC%89-%E7%89%88%E6%9C%AC%EF%BC%9Avue2-vuex3/vuex2.png" alt="alt text"></p><p>æœ€åï¼Œè¿›è¡ŒåŠŸèƒ½æ£€æŸ¥ï¼šgetterså’Œcomputedç”¨å¯¹äº†å—ï¼Œdispatchå’Œcommitç”¨å¯¹äº†å—ï¼Œå…¶ä»–å„ç§æ£€æŸ¥ã€‚é‚£ä¹ˆvuexçš„åŠŸèƒ½å·®ä¸å¤šä¹Ÿå®Œæˆäº†ã€‚</p><p>codepenè¿™ç§æƒ…å†µä¸‹çš„æ€»ä½“ä»£ç ï¼š</p><p>htmlé‡Œï¼š</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">header-component</span>&gt;</span><span class="tag">&lt;/<span class="name">header-component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">content-component</span>&gt;</span><span class="tag">&lt;/<span class="name">content-component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vuex@3.6.2/dist/vuex.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>jsé‡Œï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&quot;header-component&quot;</span>, &#123;</span><br><span class="line"><span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;div class=&quot;header&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;filter&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;button @click=&quot;myFilter(&#x27;all&#x27;)&quot;&gt;å…¨éƒ¨&lt;/button&gt;</span></span><br><span class="line"><span class="string">          &lt;button @click=&quot;myFilter(&#x27;finished&#x27;)&quot;&gt;å·²å®Œæˆ&lt;/button&gt;</span></span><br><span class="line"><span class="string">          &lt;button @click=&quot;myFilter(&#x27;not-finished&#x27;)&quot;&gt;æœªå®Œæˆ&lt;/button&gt;</span></span><br><span class="line"><span class="string">          &lt;span&gt;æ€»å…±&#123;&#123; total &#125;&#125;æ¡ï¼Œå·²å®Œæˆ&#123;&#123; completed &#125;&#125;æ¡ï¼Œå‰©ä½™&#123;&#123; remaining &#125;&#125;æ¡&lt;/span&gt;</span></span><br><span class="line"><span class="string">          &lt;button @click=&quot;clearCompleted&quot;&gt;æ¸…é™¤å·²å®Œæˆ&lt;/button&gt;</span></span><br><span class="line"><span class="string">          &lt;button @click=&quot;checkAll&quot;&gt;å…¨éƒ¨å®Œæˆ&lt;/button&gt;</span></span><br><span class="line"><span class="string">          &lt;button class=&quot;headerAdd&quot; @click=&quot;addTodo&quot;&gt;å¢åŠ æ–°çš„TODO&lt;/button&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span>,</span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line"><span class="title function_">total</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">todoList</span>.<span class="property">length</span>;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">completed</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">completed</span>;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">remaining</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">remaining</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line"><span class="title function_">myFilter</span>(<span class="params">status</span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;setFilterStatus&quot;</span>, status);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">clearCompleted</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;clearCompleted&quot;</span>);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">checkAll</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;checkAll&quot;</span>);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">addTodo</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;addTodo&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&quot;content-component&quot;</span>, &#123;</span><br><span class="line"><span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;div class=&quot;content&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;todo-item&quot; v-for=&quot;(item, index) in filteredTodoList&quot; :key=&quot;item.id&quot; transition=&quot;zj&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;input class=&quot;checkbox&quot; type=&quot;checkbox&quot; @click=&quot;check(index, item.id)&quot; v-model=&quot;item.isChecked&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;input class=&quot;item-input&quot; v-model=&quot;item.text&quot; type=&quot;text&quot; :disabled=&quot;item.isChecked&quot; @blur=&quot;handleBlur()&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;input type=&quot;datetime-local&quot; v-model=&quot;item.time&quot; @blur=&quot;handleBlur&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;button @click=&quot;removeTodo(index, item.id)&quot;&gt;åˆ é™¤&lt;/button&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span>,</span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line"><span class="title function_">filteredTodoList</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">filteredTodoList</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line"><span class="title function_">check</span>(<span class="params">index, id</span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;check&quot;</span>, &#123; index, id &#125;);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">removeTodo</span>(<span class="params">index, id</span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;removeTodo&quot;</span>, &#123; index, id &#125;);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">handleBlur</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;saveTodos&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line"><span class="attr">state</span>: &#123;</span><br><span class="line"><span class="attr">todoList</span>: [],</span><br><span class="line"><span class="attr">filterStatus</span>: <span class="string">&quot;all&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">getters</span>: &#123;</span><br><span class="line"><span class="title function_">filteredTodoList</span>(<span class="params">state</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (state.<span class="property">filterStatus</span> === <span class="string">&quot;finished&quot;</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> state.<span class="property">todoList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">isChecked</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (state.<span class="property">filterStatus</span> === <span class="string">&quot;not-finished&quot;</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> state.<span class="property">todoList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> !item.<span class="property">isChecked</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> state.<span class="property">todoList</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">total</span>(<span class="params">state</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> state.<span class="property">todoList</span>.<span class="property">length</span>;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">completed</span>(<span class="params">state</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> state.<span class="property">todoList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">isChecked</span>).<span class="property">length</span>;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">remaining</span>(<span class="params">state</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> state.<span class="property">todoList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> !item.<span class="property">isChecked</span>).<span class="property">length</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">mutations</span>: &#123;</span><br><span class="line"><span class="title function_">setFilterStatus</span>(<span class="params">state, status</span>) &#123;</span><br><span class="line">state.<span class="property">filterStatus</span> = status;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">addTodo</span>(<span class="params">state</span>) &#123;</span><br><span class="line">state.<span class="property">todoList</span>.<span class="title function_">unshift</span>(&#123;</span><br><span class="line"><span class="attr">id</span>: <span class="title class_">Number</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>().<span class="title function_">substr</span>(<span class="number">2</span>, <span class="number">10</span>) + <span class="title class_">Date</span>.<span class="title function_">now</span>()).<span class="title function_">toString</span>(</span><br><span class="line"><span class="number">10</span></span><br><span class="line">),</span><br><span class="line"><span class="attr">isChecked</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">text</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">time</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toISOString</span>().<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">16</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;todoList1&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(state.<span class="property">todoList</span>));</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">removeTodo</span>(<span class="params">state, &#123; index, id &#125;</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (state.<span class="property">todoList</span>[index].<span class="property">id</span> === id) &#123;</span><br><span class="line">state.<span class="property">todoList</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>);</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;todoList1&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(state.<span class="property">todoList</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">check</span>(<span class="params">state, &#123; index, id &#125;</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (state.<span class="property">todoList</span>[index].<span class="property">id</span> === id) &#123;</span><br><span class="line">state.<span class="property">todoList</span>[index].<span class="property">isChecked</span> = !state.<span class="property">todoList</span>[index].<span class="property">isChecked</span>;</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;todoList1&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(state.<span class="property">todoList</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">checkAll</span>(<span class="params">state</span>) &#123;</span><br><span class="line">state.<span class="property">todoList</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">item.<span class="property">isChecked</span> = <span class="literal">true</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;todoList1&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(state.<span class="property">todoList</span>));</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">clearCompleted</span>(<span class="params">state</span>) &#123;</span><br><span class="line">state.<span class="property">todoList</span> = state.<span class="property">todoList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> !item.<span class="property">isChecked</span>);</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;todoList1&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(state.<span class="property">todoList</span>));</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">saveTodos</span>(<span class="params">state</span>) &#123;</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;todoList1&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(state.<span class="property">todoList</span>));</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">loadTodos</span>(<span class="params">state</span>) &#123;</span><br><span class="line"><span class="keyword">const</span> tmp = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;todoList1&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (tmp) &#123;</span><br><span class="line">state.<span class="property">todoList</span> = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(tmp);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">state.<span class="property">todoList</span> = [</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">id</span>: <span class="title class_">Number</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>().<span class="title function_">substr</span>(<span class="number">2</span>, <span class="number">10</span>) + <span class="title class_">Date</span>.<span class="title function_">now</span>()).<span class="title function_">toString</span>(</span><br><span class="line"><span class="number">10</span></span><br><span class="line">),</span><br><span class="line"><span class="attr">text</span>: <span class="string">&quot;è¯·ç‚¹å‡»ä¸Šæ–¹çš„æ·»åŠ æŒ‰é’®æ·»åŠ äº‹ä»¶&quot;</span>,</span><br><span class="line"><span class="attr">isChecked</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">time</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toISOString</span>().<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">16</span>)</span><br><span class="line">&#125;</span><br><span class="line">];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line"><span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">store,</span><br><span class="line"><span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;loadTodos&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>csséƒ¨åˆ†è¯·è‡ªç”±å‘æŒ¥ã€‚</p><h2 id="æœ¬åœ°ï¼šApp-vueï¼Œcomponents-component1-vueï¼Œstore-index-jsï¼Œmain-js"><a href="#æœ¬åœ°ï¼šApp-vueï¼Œcomponents-component1-vueï¼Œstore-index-jsï¼Œmain-js" class="headerlink" title="æœ¬åœ°ï¼šApp.vueï¼Œcomponents&#x2F;component1.vueï¼Œstore&#x2F;index.jsï¼Œmain.js"></a>æœ¬åœ°ï¼šApp.vueï¼Œcomponents&#x2F;component1.vueï¼Œstore&#x2F;index.jsï¼Œmain.js</h2><p>å†…å®¹è¿˜æ˜¯åŸºæœ¬ä¸€æ ·çš„ï¼Œæœ¬åœ°çš„é—®é¢˜ä¸»è¦æ˜¯çœ‹ä¸œè¥¿æ”¾åœ¨å“ªä¸ªæ–‡ä»¶å¤¹ã€‚</p><p>é¦–å…ˆä½ å¾—è£…äº†vueï¼›ç„¶ååœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹å¯åŠ¨ç¯å¢ƒï¼›è€Œä¸”è¦åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹è£…vuexã€‚</p><p>è¿™æ ·çš„è¯ï¼Œä½ å°†ä¼šçœ‹åˆ°çš„ç»“æ„ï¼šï¼ˆTEST_VUEæ˜¯æ ¹ç›®å½•ï¼›storeæ–‡ä»¶å¤¹æœ¬æ¥æ²¡æœ‰ï¼Œè‡ªå·±å»ºä¸€ä¸ªã€‚ï¼‰</p><p>App.vueåŒçº§è¿˜éœ€è¦ä¸€ä¸ªmain.js:</p><p><img src="/2024/07/17/TodoList%EF%BC%9A%E8%AE%B0%E5%88%9D%E6%AC%A1Vuex%E6%8E%A2%E7%B4%A2%EF%BC%88%E6%9C%AC%E5%9C%B0-Codepen%EF%BC%89%EF%BC%88%E4%BD%BF%E7%94%A8component%EF%BC%89-%E7%89%88%E6%9C%AC%EF%BC%9Avue2-vuex3/vuex3.png" alt="alt text"></p><p>è¯·çœ‹å„ä¸ªæ–‡ä»¶</p><p>App.vueå‡ ä¹å®Œå…¨ä¸€æ ·:</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header-component</span>&gt;</span><span class="tag">&lt;/<span class="name">header-component</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">content-component</span>&gt;</span><span class="tag">&lt;/<span class="name">content-component</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>store&#x2F;index.jsï¼šæ”¾çš„æ˜¯vuexçš„ä¸œè¥¿ï¼Œè®°å¾—importå’ŒVue.use(vuex)</p><p>æ³¨æ„export default new Vuex.Storeä»£æ›¿äº†ä¹‹å‰çš„new store &#x3D; Vuex.Storeï¼Œä¸æ”¹çš„è¯ä¼šæŠ¥é”™ï¼šWeâ€˜re sorry but doesnâ€™t work properly without JavaScript enabled. Please enable it to continue</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line"><span class="attr">state</span>: &#123;</span><br><span class="line"><span class="attr">todoList</span>: [],</span><br><span class="line"><span class="attr">filterStatus</span>: <span class="string">&quot;all&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">getters</span>: &#123;</span><br><span class="line"><span class="title function_">filteredTodoList</span>(<span class="params">state</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (state.<span class="property">filterStatus</span> === <span class="string">&quot;finished&quot;</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> state.<span class="property">todoList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">isChecked</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (state.<span class="property">filterStatus</span> === <span class="string">&quot;not-finished&quot;</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> state.<span class="property">todoList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> !item.<span class="property">isChecked</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> state.<span class="property">todoList</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">total</span>(<span class="params">state</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> state.<span class="property">todoList</span>.<span class="property">length</span>;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">completed</span>(<span class="params">state</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> state.<span class="property">todoList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">isChecked</span>).<span class="property">length</span>;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">remaining</span>(<span class="params">state</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> state.<span class="property">todoList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> !item.<span class="property">isChecked</span>).<span class="property">length</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">mutations</span>: &#123;</span><br><span class="line"><span class="title function_">setFilterStatus</span>(<span class="params">state, status</span>) &#123;</span><br><span class="line">state.<span class="property">filterStatus</span> = status;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">addTodo</span>(<span class="params">state</span>) &#123;</span><br><span class="line">state.<span class="property">todoList</span>.<span class="title function_">unshift</span>(&#123;</span><br><span class="line"><span class="attr">id</span>: <span class="title class_">Number</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>().<span class="title function_">substr</span>(<span class="number">2</span>, <span class="number">10</span>) + <span class="title class_">Date</span>.<span class="title function_">now</span>()).<span class="title function_">toString</span>(</span><br><span class="line"><span class="number">10</span></span><br><span class="line">),</span><br><span class="line"><span class="attr">isChecked</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">text</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">time</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toISOString</span>().<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">16</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;todoList1&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(state.<span class="property">todoList</span>));</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">removeTodo</span>(<span class="params">state, &#123; index, id &#125;</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (state.<span class="property">todoList</span>[index].<span class="property">id</span> === id) &#123;</span><br><span class="line">state.<span class="property">todoList</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>);</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;todoList1&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(state.<span class="property">todoList</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">check</span>(<span class="params">state, &#123; index, id &#125;</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (state.<span class="property">todoList</span>[index].<span class="property">id</span> === id) &#123;</span><br><span class="line">state.<span class="property">todoList</span>[index].<span class="property">isChecked</span> = !state.<span class="property">todoList</span>[index].<span class="property">isChecked</span>;</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;todoList1&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(state.<span class="property">todoList</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">checkAll</span>(<span class="params">state</span>) &#123;</span><br><span class="line">state.<span class="property">todoList</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">item.<span class="property">isChecked</span> = <span class="literal">true</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;todoList1&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(state.<span class="property">todoList</span>));</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">clearCompleted</span>(<span class="params">state</span>) &#123;</span><br><span class="line">state.<span class="property">todoList</span> = state.<span class="property">todoList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> !item.<span class="property">isChecked</span>);</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;todoList1&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(state.<span class="property">todoList</span>));</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">saveTodos</span>(<span class="params">state</span>) &#123;</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;todoList1&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(state.<span class="property">todoList</span>));</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">loadTodos</span>(<span class="params">state</span>) &#123;</span><br><span class="line"><span class="keyword">const</span> tmp = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;todoList1&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (tmp) &#123;</span><br><span class="line">state.<span class="property">todoList</span> = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(tmp);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">state.<span class="property">todoList</span> = [</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">id</span>: <span class="title class_">Number</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>().<span class="title function_">substr</span>(<span class="number">2</span>, <span class="number">10</span>) + <span class="title class_">Date</span>.<span class="title function_">now</span>()).<span class="title function_">toString</span>(</span><br><span class="line"><span class="number">10</span></span><br><span class="line">),</span><br><span class="line"><span class="attr">text</span>: <span class="string">&quot;è¯·ç‚¹å‡»ä¸Šæ–¹çš„æ·»åŠ æŒ‰é’®æ·»åŠ äº‹ä»¶&quot;</span>,</span><br><span class="line"><span class="attr">isChecked</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="attr">time</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toISOString</span>().<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">16</span>)</span><br><span class="line">&#125;</span><br><span class="line">];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>main.jsï¼šæ³¨æ„ä¸‹é¢çš„ä¸œè¥¿è·¯å¾„æ­£ç¡®ï¼Œæ³¨æ„header-componentæ˜¯æœ€ç»ˆä½¿ç”¨åœ¨htmlçš„åå­—ï¼Œä¸èƒ½å†™é”™ï¼›æ³¨æ„è¿™é‡Œç”¨äº†mountï¼Œå’Œä¹‹å‰ä¸ä¸€æ ·äº†</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store/index.js&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> app <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HeaderComponent</span> <span class="keyword">from</span> <span class="string">&#x27;./components/header.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ContentComponent</span> <span class="keyword">from</span> <span class="string">&#x27;./components/content.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;header-component&#x27;</span>, <span class="title class_">HeaderComponent</span>);</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;content-component&#x27;</span>, <span class="title class_">ContentComponent</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  store,</span><br><span class="line">  <span class="attr">render</span>: <span class="function">(<span class="params">h</span>) =&gt;</span> <span class="title function_">h</span>(app)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>);</span><br></pre></td></tr></table></figure><p>components&#x2F;content.vueï¼šæ³¨æ„export defaultçš„å˜åŒ–ã€‚headeré‚£ä¸ªä¹Ÿç±»ä¼¼åœ°è°ƒæ•´ä¸€ä¸‹ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;todo-item&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in filteredTodoList&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span> <span class="attr">transition</span>=<span class="string">&quot;zj&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;todo-item__checkbox&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;check(index, item.id)&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;item.isChecked&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;todo-item__item-input&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;item.text&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">:disabled</span>=<span class="string">&quot;item.isChecked&quot;</span> @<span class="attr">blur</span>=<span class="string">&quot;handleBlur()&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;todo-item__datetime-local&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;item.time&quot;</span> @<span class="attr">blur</span>=<span class="string">&quot;handleBlur&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;removeTodo(index, item.id)&quot;</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">filteredTodoList</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">filteredTodoList</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">check</span>(<span class="params">index, id</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;check&quot;</span>, &#123; index, id &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">removeTodo</span>(<span class="params">index, id</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;removeTodo&quot;</span>, &#123; index, id &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">handleBlur</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;saveTodos&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å·®ä¸å¤šå°±å®Œæˆäº†ã€‚</p><p>å…¶ä»–çš„å…·ä½“é…ç½®æˆ‘ä¹Ÿä¸æ‡‚äº†ï¼Œä¸»è¦è¿˜æ˜¯è·Ÿç€å…¶ä»–äººçš„æ•™ç¨‹è¿›è¡Œå®‰è£…ï¼Œæœ‰é—®é¢˜å°±æ‰¾æ”»ç•¥ä¿®ã€‚å¸Œæœ›å¤§å®¶éƒ½å†™å¾—é¡ºåˆ©ï¼</p><p>â€‹</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ FrontEnd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vuex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆè¯†hikariæ¡†æ¶+Mockitoè½¯ä»¶æµ‹è¯•ç¬”è®°</title>
      <link href="/2024/04/17/%E5%88%9D%E8%AF%86hikari%E6%A1%86%E6%9E%B6-Mockito%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E7%AC%94%E8%AE%B0/"/>
      <url>/2024/04/17/%E5%88%9D%E8%AF%86hikari%E6%A1%86%E6%9E%B6-Mockito%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>ä¸€ã€hikariæ¡†æ¶çš„å„å±‚æ¬¡å†…å®¹è§£é‡Šï¼ˆå¯¼å›¾ï¼‰<br>äºŒã€ä¼šç”¨åˆ°çš„æµ‹è¯•ï¼šMockito çš„ MockMvc<br>2.1. æ­£å‘æ€è€ƒç®€å•çš„Mockitoçš„æµ‹è¯•æ€ä¹ˆå†™<br>2.2. ä¸€ä¸ªå®Œæ•´æµ‹è¯•æ®µè½çš„ä¾‹å­<br>2.3. <code>when...thenReturn</code>æˆ–è€…<code>given...willReturn</code>æˆ–è€…<code>doNothing</code>å‡½æ•°<br>2.4. <code>perform</code>å’Œ<code>andExpect</code>å‡½æ•°ï¼šç”¨æ¥æ¨¡æ‹Ÿhttpè¿æ¥çš„<br>2.5. <code>verify</code>å‡½æ•°ï¼šéªŒè¯æ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨è¿‡ã€è°ƒç”¨è¿‡å‡ æ¬¡<br>2.6. jsonç›¸å…³æ“ä½œ:<code>$[i]</code>çš„æ„æ€æ˜¯ç¬¬iä¸ªå‚æ•°ã€<code>$</code>æ˜¯æ•°ç»„<br>2.7. <code>perform....andExpect</code>é‡Œçš„<code>is3xxRedirection()</code></p><span id="more"></span><p>é¦–æ¬¡å‘è¡¨åœ¨ï¼š<a href="https://blog.csdn.net/weixin_50132289/article/details/137880658">https://blog.csdn.net/weixin_50132289/article/details/137880658</a><br>â€‹</p><h1 id="ä¸€ã€hikariæ¡†æ¶çš„å„å±‚æ¬¡å†…å®¹è§£é‡Šï¼ˆå¯¼å›¾ï¼‰"><a href="#ä¸€ã€hikariæ¡†æ¶çš„å„å±‚æ¬¡å†…å®¹è§£é‡Šï¼ˆå¯¼å›¾ï¼‰" class="headerlink" title="ä¸€ã€hikariæ¡†æ¶çš„å„å±‚æ¬¡å†…å®¹è§£é‡Šï¼ˆå¯¼å›¾ï¼‰"></a>ä¸€ã€hikariæ¡†æ¶çš„å„å±‚æ¬¡å†…å®¹è§£é‡Šï¼ˆå¯¼å›¾ï¼‰</h1><p>ä»¥å‰ç¬¬ä¸€æ¬¡è§åˆ°ç±»ä¼¼çš„æ¡†æ¶è¿˜æ˜¯ruoyiæ¡†æ¶ã€‚å½¼æ—¶çš„æˆ‘è¿˜å®Œå…¨ä¸æ˜ç™½è¿™ç§æ–‡ä»¶ç»“æ„ï¼Œçœ‹åˆ°å°±æ€•ã€‚ç°åœ¨åšäº†ä¸ªæ€ç»´å¯¼å›¾å°æ¢³ç†ï¼Œå›¾ä¸­ä»¥æˆ‘æœ¬æ¬¡è¯¾ç¨‹ä½œä¸šä¸­çš„entity-Messageä¸ºä¾‹ï¼Œè¡ç”Ÿå‡ºç›¸å…³çš„controllerã€daoã€serviceã€‚</p><p> <img src="/2024/04/17/%E5%88%9D%E8%AF%86hikari%E6%A1%86%E6%9E%B6-Mockito%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E7%AC%94%E8%AE%B0/3ab055a889c8eb78d12d3ea800d6f3a0.png" alt="hikariæ¡†æ¶å±‚æ¬¡æ¢³ç†"></p><h1 id="äºŒã€ä¼šç”¨åˆ°çš„æµ‹è¯•ï¼šMockito-çš„-MockMvc"><a href="#äºŒã€ä¼šç”¨åˆ°çš„æµ‹è¯•ï¼šMockito-çš„-MockMvc" class="headerlink" title="äºŒã€ä¼šç”¨åˆ°çš„æµ‹è¯•ï¼šMockito çš„ MockMvc"></a>äºŒã€ä¼šç”¨åˆ°çš„æµ‹è¯•ï¼šMockito çš„ MockMvc</h1><p>å¯¹äºå…¶ä¸­çš„å„ä¸ªå¸¸ç”¨æ–¹æ³•è¿›è¡Œäº†æ¢³ç†ã€‚<br>ä»…ä½œç¤ºä¾‹ä½œç”¨ï¼Œå¹¶æ²¡æœ‰æ·±å…¥è§£é‡Šå…¶åŸç†ã€‚<br>å¯¹æˆ‘å¸®åŠ©å¾ˆå¤§çš„Mockitoåº”ç”¨æŒ‡å—ï¼š<a href="https://hezhiqiang8909.gitbook.io/java/docs/javalib/mockito">https://hezhiqiang8909.gitbook.io/java/docs/javalib/mockito</a></p><h2 id="1-æ­£å‘æ€è€ƒç®€å•çš„Mockitoçš„æµ‹è¯•æ€ä¹ˆå†™"><a href="#1-æ­£å‘æ€è€ƒç®€å•çš„Mockitoçš„æµ‹è¯•æ€ä¹ˆå†™" class="headerlink" title="1. æ­£å‘æ€è€ƒç®€å•çš„Mockitoçš„æµ‹è¯•æ€ä¹ˆå†™"></a>1. æ­£å‘æ€è€ƒç®€å•çš„Mockitoçš„æµ‹è¯•æ€ä¹ˆå†™</h2><p>æ­¤å¤„ä½œä¸ºæ€»ç»“ï¼Œæœ¬æ–‡åé¢æœ‰ä¸€äº›æˆ‘é‡åˆ°çš„ä¾‹å­ã€‚å†æ¬¡è¯´æ˜ï¼Œä»…ä½œç¤ºä¾‹ä½œç”¨ï¼Œå¹¶æœªæ·±å…¥è§£é‡ŠåŸç†ã€‚</p><ol><li>@ExtendWithã€@WebMvcTestã€@MockBeané…ç½®å¥½</li><li>@BeforeEachè¿›è¡Œsetupï¼Œåˆå§‹åŒ–å…¨å±€å˜é‡</li><li>@Testæ¯ä¸€ä¸ªcontrollerç±»é‡Œçš„æ–¹æ³•ï¼Œåˆå§‹åŒ–å±€éƒ¨å˜é‡ï¼Œè­¬å¦‚ä¸€äº›åˆ—è¡¨ã€ä¸€äº›åˆ°Pageçš„æ˜ å°„</li><li>å¯¹æ¨¡æ‹Ÿå‡ºæ¥çš„å˜é‡<strong>é…ç½®è¿”å›å€¼</strong>ï¼š<strong>givenâ€¦willReturn æˆ– whenâ€¦thenReturn</strong>ï¼ˆæˆ– doNothingï¼‰ã€‚<br> Â· å…·ä½“è¯­æ³•ï¼šwhen(xxxServiceçš„å‡½æ•°(å‡½æ•°è°ƒç”¨çš„å‚æ•°â€¦)).thenReturn(æ¨¡æ‹Ÿå‡ºæ¥çš„ä¸œè¥¿çš„è¿”å›å€¼)</li><li>ä½¿ç”¨Mockitoçš„ <strong>performâ€¦andExpect</strong> è¿›è¡ŒHTTPè¿æ¥ï¼Œæµ‹è¯•è¿æ¥æ˜¯å¦200ã€ç›¸åº”å±æ€§æ˜¯å¦æ­£ç¡®ã€è¿”å›å€¼å¦‚ä½•ï¼›å¦‚æœ‰éœ€è¦ï¼Œæµ‹è¯•èƒ½å¦redirectåˆ°ä¸‹ä¸€ä¸ªæŒ‡å®šçš„ç½‘é¡µã€‚<br> Â· å…·ä½“è¯­æ³•ï¼šmockMvc.perform(get(ç½‘å€).sessionAttrsæˆ–params).andExpect(status().isOk()).andExpect(view().name(xxx)).andExpect(model().attribute(expected,actual))</li><li>ä½¿ç”¨Mockitoçš„ <strong>verify</strong> æ–¹æ³•ï¼Œå¯¹äºå±æ€§å’ŒçŠ¶æ€è¿›è¡Œæµ‹è¯•å¯¹äºå‰è¿°é…ç½®è¿‡çš„å‡½æ•°<strong>è¢«è°ƒç”¨çš„æ¬¡æ•°</strong>è¿›è¡Œæµ‹è¯•ã€‚<br> Â· å…·ä½“è¯­æ³•ï¼šverify(xxxService).xxxServiceåˆšæ‰è°ƒç”¨çš„å‡½æ•°(å‡½æ•°çš„å‚æ•°)</li><li>å¦‚æœéœ€è¦ï¼Œå¦‚æœè¢«æµ‹è¯•ç±»é‡Œæœ‰ æˆåŠŸvså¤±è´¥ã€ä¸é‡å¤vsé‡å¤ã€ç™»å½•ä¸å¦ã€æ›´æ”¹å¯†ç &#x2F;å›¾ç‰‡ ç­‰ç­‰çš„<strong>åˆ†ç±»è®¨è®ºï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘å†™æˆå¤šä¸ªæµ‹è¯•ç±»</strong></li></ol><h2 id="2-ä¸€ä¸ªå®Œæ•´æµ‹è¯•æ®µè½çš„ä¾‹å­"><a href="#2-ä¸€ä¸ªå®Œæ•´æµ‹è¯•æ®µè½çš„ä¾‹å­" class="headerlink" title="2. ä¸€ä¸ªå®Œæ•´æµ‹è¯•æ®µè½çš„ä¾‹å­"></a>2. ä¸€ä¸ªå®Œæ•´æµ‹è¯•æ®µè½çš„ä¾‹å­</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">modifyMessage</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line"><span class="comment">// å±€éƒ¨å˜é‡åˆå§‹åŒ–</span></span><br><span class="line"><span class="type">int</span> <span class="variable">messageID</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">content</span> <span class="operator">=</span> <span class="string">&quot;Updated message content&quot;</span>;</span><br><span class="line"><span class="type">Message</span> <span class="variable">message</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Message</span>();</span><br><span class="line">message.setContent(content);</span><br><span class="line">message.setTime(LocalDateTime.now());</span><br><span class="line">message.setState(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// when...thenReturn</span></span><br><span class="line"><span class="keyword">when</span>(messageService.findById(messageID)).thenReturn(message);</span><br><span class="line"></span><br><span class="line"><span class="comment">// perform...post</span></span><br><span class="line">mockMvc.perform(post(<span class="string">&quot;/modifyMessage.do&quot;</span>)</span><br><span class="line">.param(<span class="string">&quot;messageID&quot;</span>, String.valueOf(messageID))</span><br><span class="line">.param(<span class="string">&quot;content&quot;</span>, content))</span><br><span class="line">.andExpect(status().isOk())</span><br><span class="line">.andExpect(content().string(<span class="string">&quot;true&quot;</span>)); <span class="comment">// return value</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// verify</span></span><br><span class="line">verify(messageService, times(<span class="number">1</span>)).findById(messageID);</span><br><span class="line">verify(messageService, times(<span class="number">1</span>)).update(message);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™é‡Œæ˜¯Junitçš„æµ‹è¯•æ–¹æ³•ï¼ŒassertEquals(é¢„æœŸå€¼ï¼Œå®é™…å€¼)åˆ¤æ–­ä¸¤è€…æ˜¯å¦ç›¸ç­‰</span></span><br><span class="line"><span class="comment">// ä½“ç°Junitå¯ä»¥å’ŒMockitoç»“åˆä½¿ç”¨</span></span><br><span class="line">assertEquals(content, message.getContent());</span><br><span class="line">assertEquals(<span class="number">1</span>, message.getState());</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-when-thenReturnæˆ–è€…given-willReturnæˆ–è€…doNothingå‡½æ•°ï¼šéƒ½ç”¨äºé…ç½®ã€æŒ‡å®šæ¨¡æ‹Ÿå¯¹è±¡çš„è¡Œä¸ºï¼Œæ¨¡æ‹Ÿå¯¹è±¡åº”è¯¥è¿”å›çš„ä¸œè¥¿ã€‚"><a href="#3-when-thenReturnæˆ–è€…given-willReturnæˆ–è€…doNothingå‡½æ•°ï¼šéƒ½ç”¨äºé…ç½®ã€æŒ‡å®šæ¨¡æ‹Ÿå¯¹è±¡çš„è¡Œä¸ºï¼Œæ¨¡æ‹Ÿå¯¹è±¡åº”è¯¥è¿”å›çš„ä¸œè¥¿ã€‚" class="headerlink" title="3. when...thenReturnæˆ–è€…given...willReturnæˆ–è€…doNothingå‡½æ•°ï¼šéƒ½ç”¨äºé…ç½®ã€æŒ‡å®šæ¨¡æ‹Ÿå¯¹è±¡çš„è¡Œä¸ºï¼Œæ¨¡æ‹Ÿå¯¹è±¡åº”è¯¥è¿”å›çš„ä¸œè¥¿ã€‚"></a>3. <code>when...thenReturn</code>æˆ–è€…<code>given...willReturn</code>æˆ–è€…<code>doNothing</code>å‡½æ•°ï¼šéƒ½ç”¨äº<strong>é…ç½®ã€æŒ‡å®šæ¨¡æ‹Ÿå¯¹è±¡çš„è¡Œä¸º</strong>ï¼Œæ¨¡æ‹Ÿå¯¹è±¡<strong>åº”è¯¥</strong>è¿”å›çš„ä¸œè¥¿ã€‚</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// whenå’Œgivenåˆ†åˆ«æ¥ä¸€ä¸ªä¾‹å­</span></span><br><span class="line">   <span class="keyword">when</span>(messageService.findWaitState(message_pageable)).thenReturn(messagePage);</span><br><span class="line">   given(venueService.findAll(any())).willReturn(venues);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥åšä¸€ç‚¹å°æ”¹å˜</span></span><br><span class="line">   <span class="comment">// è‡ªå®šä¹‰ getUniqueId() çš„è¿”å›å€¼</span></span><br><span class="line">   <span class="keyword">when</span>(test.getUniqueId()).thenReturn(<span class="number">43</span>);</span><br><span class="line">   <span class="comment">// åœ¨æµ‹è¯•ä¸­ä½¿ç”¨mockå¯¹è±¡</span></span><br><span class="line">   assertEquals(test.getUniqueId(), <span class="number">43</span>);</span><br><span class="line"></span><br><span class="line">   <span class="comment">// doNothingï¼šå½“ messageService.confirmMessage æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œä¸åšä»»ä½•æ“ä½œã€‚</span></span><br><span class="line">   doNothing().<span class="keyword">when</span>(messageService).confirmMessage(id_user_success);</span><br><span class="line">   </span><br></pre></td></tr></table></figure><ul><li>ç”¨äº<strong>é…ç½®æ¨¡æ‹Ÿå¯¹è±¡çš„è¡Œä¸º</strong>ï¼Œæ˜¯ä¸ºäº†<strong>æ¨¡æ‹Ÿæ–¹æ³•çš„è¿”å›å€¼</strong>ï¼Œä½¿å¾—åœ¨æµ‹è¯•ä¸­å¯ä»¥<strong>é¢„å…ˆå®šä¹‰æ–¹æ³•çš„æ‰§è¡Œç»“æœ</strong>ï¼Œè¿™ç§æ–¹å¼å…è®¸æµ‹è¯•ç‰¹å®šæ–¹æ³•åœ¨ç»™å®šå‚æ•°ä¸‹çš„è¡Œä¸ºï¼Œä»¥ä¾¿æµ‹è¯•ä»£ç çš„å…¶ä»–éƒ¨åˆ†èƒ½å¤ŸæŒ‰é¢„æœŸå·¥ä½œã€‚</li><li>whenï¼š å½“è°ƒç”¨ findWaitState æ–¹æ³•å¹¶ä¼ å…¥æŒ‡å®šçš„ message_pageable å¯¹è±¡æ—¶ï¼ˆfindWaitStateï¼‰ï¼Œæ¨¡æ‹Ÿå¯¹è±¡<strong>åº”è¯¥</strong>è¿”å› messagePage å¯¹è±¡ã€‚</li><li>givenï¼šå½“è°ƒç”¨ venueService.findAll(pageable) æ–¹æ³•æ—¶ï¼ˆfindAll(any())ï¼‰ï¼Œæ¨¡æ‹Ÿå¯¹è±¡<strong>åº”è¯¥</strong>è¿”å› pagedResponse å¯¹è±¡ã€‚</li></ul><h3 id="3-1-å…³äºå…¶ä¸­çš„findAll"><a href="#3-1-å…³äºå…¶ä¸­çš„findAll" class="headerlink" title="3.1 å…³äºå…¶ä¸­çš„findAll"></a>3.1 å…³äºå…¶ä¸­çš„<code>findAll</code></h3><p>æœ¬æ¬¡è¯¾ç¨‹ä½œä¸šä¸­æœ‰ä¸€ä¸ªå°†ç»“æœå°è£…æˆPage&lt;EntityName&gt;çš„åŠŸèƒ½ã€‚å› æ­¤åœ¨æµ‹è¯•çš„æ—¶å€™ï¼ŒfindAllçš„ä½œç”¨æ˜¯æ ¹æ®ä¼ å…¥çš„ pageable å‚æ•°ï¼Œä»æ•°æ®åº“ä¸­æŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„åœºé¦†æ•°æ®ï¼Œå¹¶<strong>å°†ç»“æœå°è£…æˆä¸€ä¸ª Page&lt;EntityName&gt; å¯¹è±¡è¿”å›</strong>ï¼Œä¸¾ä¾‹ï¼šè¿”å›Page&lt;Venue&gt;</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Page&lt;Venue&gt; <span class="title function_">findAll</span><span class="params">(Pageable pageable)</span>;</span><br><span class="line"><span class="keyword">when</span>(venueService.findAll(pageable)).thenReturn(pageOfVenues);</span><br><span class="line">given(venueService.findAll(any())).willReturn(venues);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="4-performå’ŒandExpectå‡½æ•°ï¼šç”¨æ¥æ¨¡æ‹Ÿhttpè¿æ¥çš„"><a href="#4-performå’ŒandExpectå‡½æ•°ï¼šç”¨æ¥æ¨¡æ‹Ÿhttpè¿æ¥çš„" class="headerlink" title="4. performå’ŒandExpectå‡½æ•°ï¼šç”¨æ¥æ¨¡æ‹Ÿhttpè¿æ¥çš„"></a>4. <code>perform</code>å’Œ<code>andExpect</code>å‡½æ•°ï¼šç”¨æ¥æ¨¡æ‹Ÿhttpè¿æ¥çš„</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">mockMvc.perform(get(<span class="string">&quot;/message_manage&quot;</span>))</span><br><span class="line">        .andExpect(status().isOk())</span><br><span class="line">        .andExpect(view().name(<span class="string">&quot;admin/message_manage&quot;</span>))</span><br><span class="line">        .andExpect(model().attribute(<span class="string">&quot;total&quot;</span>, messagePage.getTotalPages()));</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ mockMvc æ‰§è¡Œæ¨¡æ‹Ÿçš„ HTTP <strong>GET</strong> è¯·æ±‚åˆ° &#x2F;message_manage è·¯å¾„ã€‚</li><li>é¢„æœŸå“åº”<strong>çŠ¶æ€status</strong>ç ä¸º 200 (OK)ï¼Œ<strong>è§†å›¾viewä¹Ÿå°±æ˜¯åœ¨åŸæœ‰çš„ç±»é‡Œè¿”å›çš„å€¼</strong>åç§°ä¸º admin&#x2F;message_manageã€‚</li><li>éªŒè¯æ¨¡å‹ä¸­çš„ <strong>total å±æ€§</strong>æ˜¯å¦ç­‰äº messagePage çš„æ€»é¡µæ•°ï¼Œå†™è¿™å¥æ˜¯å› ä¸ºåœ¨åŸæœ‰çš„ç±»é‡Œæœ‰å¯¹modelçš„attributeè¿›è¡Œèµ‹å€¼ç­‰æ“ä½œã€‚</li></ul><h2 id="5-verifyå‡½æ•°ï¼šéªŒè¯æ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨è¿‡ã€è°ƒç”¨è¿‡å‡ æ¬¡"><a href="#5-verifyå‡½æ•°ï¼šéªŒè¯æ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨è¿‡ã€è°ƒç”¨è¿‡å‡ æ¬¡" class="headerlink" title="5. verifyå‡½æ•°ï¼šéªŒè¯æ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨è¿‡ã€è°ƒç”¨è¿‡å‡ æ¬¡"></a>5. <code>verify</code>å‡½æ•°ï¼šéªŒè¯<strong>æ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨è¿‡ã€è°ƒç”¨è¿‡å‡ æ¬¡</strong></h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸¾ä¸¤ä¸ªä¾‹å­</span></span><br><span class="line">   verify(messageService, times(<span class="comment">/*wanted number of invocations*/</span><span class="number">1</span>)).findWaitState(message_pageable);</span><br><span class="line">   verify(venueService).findAll(pageable);</span><br><span class="line"></span><br><span class="line">   <span class="comment">// åŸå‹å¯åšäº†è§£</span></span><br><span class="line">   <span class="meta">@CheckReturnValue</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; T <span class="title function_">verify</span><span class="params">(T mock, VerificationMode mode)</span> &#123;</span><br><span class="line">       <span class="keyword">return</span> MOCKITO_CORE.verify(mock, mode);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><ul><li><p>messageService æ˜¯è¦éªŒè¯çš„æ¨¡æ‹Ÿå¯¹è±¡ã€‚</p></li><li><p>times(1) æŒ‡å®šäº†æ–¹æ³• findWaitState åº”è¯¥è¢«è°ƒç”¨çš„æ¬¡æ•°ï¼Œè¿™é‡Œæ˜¯æœŸæœ›è¢«è°ƒç”¨ä¸€æ¬¡ã€‚</p></li><li><p><strong>åç»­çš„</strong>findWaitState(message_pageable) æ˜¯<strong>å®é™…</strong>è¦éªŒè¯çš„æ–¹æ³•è°ƒç”¨ï¼Œmessage_pageable æ˜¯è¯¥æ–¹æ³•çš„å‚æ•°ã€‚</p></li><li><p>è¿™è¡Œä»£ç çš„ä½œç”¨æ˜¯ç¡®ä¿ <code>messageService.findWaitState(message_pageable)</code> æ–¹æ³•è¢«è°ƒç”¨äº†ä¸€æ¬¡ã€‚å¦‚æœè°ƒç”¨æ¬¡æ•°ä¸ç¬¦åˆæœŸæœ›ï¼Œå°†ä¼šæŠ›å‡ºéªŒè¯å¤±è´¥çš„å¼‚å¸¸ï¼Œä»è€Œå¯ä»¥ç¡®ä¿æ–¹æ³•åœ¨æµ‹è¯•ä¸­æŒ‰é¢„æœŸæ‰§è¡Œã€‚</p></li><li><p>@CheckReturnValue æ³¨è§£æ˜¯ç”¨æ¥æç¤ºè°ƒç”¨è€…æ£€æŸ¥æ–¹æ³•çš„è¿”å›å€¼ï¼Œç¡®ä¿è¿”å›å€¼ä¸è¢«å¿½ç•¥ï¼Œå®ƒæé†’è°ƒç”¨è¯¥æ–¹æ³•å<strong>åº”è¯¥è€ƒè™‘å¤„ç†æ–¹æ³•çš„è¿”å›å€¼ï¼Œä¾‹å¦‚èµ‹å€¼ç»™å˜é‡ã€è¿›è¡Œæ£€æŸ¥æˆ–è€…ä½¿ç”¨è¿”å›å€¼æ‰§è¡Œå…¶ä»–æ“ä½œ</strong>ï¼Œä»¥å…é€ æˆç¨‹åºé€»è¾‘é”™è¯¯æˆ–èµ„æºæ³„æ¼ç­‰é—®é¢˜ã€‚</p></li></ul><h2 id="6-jsonç›¸å…³æ“ä½œ-i-çš„æ„æ€æ˜¯ç¬¬iä¸ªå‚æ•°ã€-æ˜¯æ•°ç»„"><a href="#6-jsonç›¸å…³æ“ä½œ-i-çš„æ„æ€æ˜¯ç¬¬iä¸ªå‚æ•°ã€-æ˜¯æ•°ç»„" class="headerlink" title="6. jsonç›¸å…³æ“ä½œ:$[i]çš„æ„æ€æ˜¯ç¬¬iä¸ªå‚æ•°ã€$æ˜¯æ•°ç»„"></a>6. jsonç›¸å…³æ“ä½œ:<code>$[i]</code>çš„æ„æ€æ˜¯ç¬¬iä¸ªå‚æ•°ã€<code>$</code>æ˜¯æ•°ç»„</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">mockMvc.perform(get(<span class="string">&quot;/venueList.do&quot;</span>)</span><br><span class="line">                .param(<span class="string">&quot;page&quot;</span>, String.valueOf(page)))</span><br><span class="line">                .andExpect(status().isOk())</span><br><span class="line">                .andExpect(content().contentType(<span class="string">&quot;application/json&quot;</span>)) <span class="comment">// è¡¨ç¤ºæœŸæœ›è¿”å›çš„å“åº”å†…å®¹ç±»å‹ä¸º application/jsonï¼Œå³ JSON æ ¼å¼</span></span><br><span class="line">                .andExpect(jsonPath(<span class="string">&quot;$&quot;</span>, hasSize(<span class="number">1</span>))) <span class="comment">// è¡¨ç¤ºæœŸæœ›è¿”å›çš„ JSON æ•°ç»„ $ çš„é•¿åº¦ä¸º 1ï¼Œå³ç»“æœåŒ…å«ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">                .andExpect(jsonPath(<span class="string">&quot;$[0].venueID&quot;</span>, is(<span class="number">1</span>))) <span class="comment">// è¡¨ç¤ºæœŸæœ›è¿”å›çš„ JSON æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ venueID å±æ€§å€¼ä¸º 1</span></span><br></pre></td></tr></table></figure><h2 id="7-perform-andExpecté‡Œçš„is3xxRedirection"><a href="#7-perform-andExpecté‡Œçš„is3xxRedirection" class="headerlink" title="7. perform....andExpecté‡Œçš„is3xxRedirection()"></a>7. <code>perform....andExpect</code>é‡Œçš„<code>is3xxRedirection()</code></h2><ul><li>å»å®˜ç½‘æŸ¥åˆ°ï¼šåˆ¤æ–­æ˜¯ä¸æ˜¯åœ¨<code>org.springframework.http.HttpStatus.Series.REDIRECTION</code>é‡Œï¼Œä¹Ÿå°±æ˜¯3å¼€å¤´çš„æ„æ€æ˜¯é‡å®šå‘</li><li>ï¼ˆ1å¼€å¤´ï¼šinfoï¼Œ2å¼€å¤´ï¼šæˆåŠŸï¼Œ3å¼€å¤´ï¼šé‡å®šå‘ï¼Œ4å¼€å¤´ï¼šå®¢æˆ·é‚£è¾¹çš„é”™è¯¯ï¼Œ5å¼€å¤´ï¼šæœåŠ¡å™¨çš„é”™è¯¯ï¼‰</li></ul><p>æ„Ÿè°¢é˜…è¯»ï¼æ–°äººç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œè¯·æŒ‡æ­£ï¼</p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶æµ‹è¯• Software Testing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mockito </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
